var In=Object.create;var $e=Object.defineProperty;var xn=Object.getOwnPropertyDescriptor;var Fn=Object.getOwnPropertyNames;var Dn=Object.getPrototypeOf,Tn=Object.prototype.hasOwnProperty;var s=(t,e)=>$e(t,"name",{value:e,configurable:!0});var On=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Hn=(t,e)=>{for(var n in e)$e(t,n,{get:e[n],enumerable:!0})},Ht=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Fn(e))!Tn.call(t,i)&&i!==n&&$e(t,i,{get:()=>e[i],enumerable:!(r=xn(e,i))||r.enumerable});return t};var Xn=(t,e,n)=>(n=t!=null?In(Dn(t)):{},Ht(e||!t||!t.__esModule?$e(n,"default",{value:t,enumerable:!0}):n,t)),$n=t=>Ht($e({},"__esModule",{value:!0}),t);var Cn=On(m=>{"use strict";var Xt={},Gt={};Gt.default=(function(t,e,n,r,i){var a=new Worker(Xt[e]||(Xt[e]=URL.createObjectURL(new Blob([t+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(o){var l=o.data,u=l.$e$;if(u){var f=new Error(u[0]);f.code=u[1],f.stack=u[2],i(f,null)}else i(null,l)},a.postMessage(n,r),a});var U=Uint8Array,j=Uint16Array,Ne=Int32Array,Me=new U([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Se=new U([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Pe=new U([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bt=s(function(t,e){for(var n=new j(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Ne(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},"freb"),Nt=Bt(Me,2),wt=Nt.b,Qe=Nt.r;wt[28]=258,Qe[258]=28;var _t=Bt(Se,0),kt=_t.b,ct=_t.r,Ge=new j(32768);for(I=0;I<32768;++I)le=(I&43690)>>1|(I&21845)<<1,le=(le&52428)>>2|(le&13107)<<2,le=(le&61680)>>4|(le&3855)<<4,Ge[I]=((le&65280)>>8|(le&255)<<8)>>1;var le,I,Q=s((function(t,e,n){for(var r=t.length,i=0,a=new j(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new j(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(n){l=new j(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],h=e-t[i],c=o[t[i]-1]++<<h,v=c|(1<<h)-1;c<=v;++c)l[Ge[c]>>u]=f}else for(l=new j(r),i=0;i<r;++i)t[i]&&(l[i]=Ge[o[t[i]-1]++]>>15-t[i]);return l}),"hMap"),fe=new U(288);for(I=0;I<144;++I)fe[I]=8;var I;for(I=144;I<256;++I)fe[I]=9;var I;for(I=256;I<280;++I)fe[I]=7;var I;for(I=280;I<288;++I)fe[I]=8;var I,Ae=new U(32);for(I=0;I<32;++I)Ae[I]=5;var I,qt=Q(fe,9,0),jt=Q(fe,9,1),Kt=Q(Ae,5,0),Yt=Q(Ae,5,1),Ve=s(function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},"max"),W=s(function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},"bits"),Je=s(function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},"bits16"),Ze=s(function(t){return(t+7)/8|0},"shft"),ee=s(function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new U(t.subarray(e,n))},"slc");m.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var Vt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],p=s(function(t,e,n){var r=new Error(e||Vt[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,p),!n)throw r;return r},"err"),_e=s(function(t,e,n,r){var i=t.length,a=r?r.length:0;if(!i||e.f&&!e.l)return n||new U(0);var o=!n,l=o||e.i!=2,u=e.i;o&&(n=new U(i*3));var f=s(function(He){var Xe=n.length;if(He>Xe){var Ee=new U(Math.max(Xe*2,He));Ee.set(n),n=Ee}},"cbuf"),h=e.f||0,c=e.p||0,v=e.b||0,A=e.l,z=e.d,C=e.m,g=e.n,E=i*8;do{if(!A){h=W(t,c,1);var M=W(t,c+1,3);if(c+=3,M)if(M==1)A=jt,z=Yt,C=9,g=5;else if(M==2){var F=W(t,c,31)+257,Z=W(t,c+10,15)+4,w=F+W(t,c+5,31)+1;c+=14;for(var y=new U(w),S=new U(19),L=0;L<Z;++L)S[Pe[L]]=W(t,c+L*3,7);c+=Z*3;for(var O=Ve(S),B=(1<<O)-1,T=Q(S,O,1),L=0;L<w;){var $=T[W(t,c,B)];c+=$&15;var b=$>>4;if(b<16)y[L++]=b;else{var X=0,D=0;for(b==16?(D=3+W(t,c,3),c+=2,X=y[L-1]):b==17?(D=3+W(t,c,7),c+=3):b==18&&(D=11+W(t,c,127),c+=7);D--;)y[L++]=X}}var k=y.subarray(0,F),N=y.subarray(F);C=Ve(k),g=Ve(N),A=Q(k,C,1),z=Q(N,g,1)}else p(1);else{var b=Ze(c)+4,d=t[b-4]|t[b-3]<<8,x=b+d;if(x>i){u&&p(0);break}l&&f(v+d),n.set(t.subarray(b,x),v),e.b=v+=d,e.p=c=x*8,e.f=h;continue}if(c>E){u&&p(0);break}}l&&f(v+131072);for(var ge=(1<<C)-1,K=(1<<g)-1,se=c;;se=c){var X=A[Je(t,c)&ge],V=X>>4;if(c+=X&15,c>E){u&&p(0);break}if(X||p(2),V<256)n[v++]=V;else if(V==256){se=c,A=null;break}else{var J=V-254;if(V>264){var L=V-257,P=Me[L];J=W(t,c,(1<<P)-1)+wt[L],c+=P}var ie=z[Je(t,c)&K],we=ie>>4;ie||p(3),c+=ie&15;var N=kt[we];if(we>3){var P=Se[we];N+=Je(t,c)&(1<<P)-1,c+=P}if(c>E){u&&p(0);break}l&&f(v+131072);var ze=v+J;if(v<N){var je=a-N,Ke=Math.min(N,ze);for(je+v<0&&p(3);v<Ke;++v)n[v]=r[je+v]}for(;v<ze;++v)n[v]=n[v-N]}}e.l=A,e.p=se,e.b=v,e.f=h,A&&(h=1,e.m=C,e.d=z,e.n=g)}while(!h);return v!=n.length&&o?ee(n,0,v):n.subarray(0,v)},"inflt"),ae=s(function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},"wbits"),Ce=s(function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},"wbits16"),We=s(function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:he,l:0};if(i==1){var o=new U(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(x,F){return x.f-F.f}),n.push({s:-1,f:25001});var l=n[0],u=n[1],f=0,h=1,c=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};h!=i-1;)l=n[n[f].f<n[c].f?f++:c++],u=n[f!=h&&n[f].f<n[c].f?f++:c++],n[h++]={s:-1,f:l.f+u.f,l,r:u};for(var v=a[0].s,r=1;r<i;++r)a[r].s>v&&(v=a[r].s);var A=new j(v+1),z=et(n[h-1],A,0);if(z>e){var r=0,C=0,g=z-e,E=1<<g;for(a.sort(function(F,Z){return A[Z.s]-A[F.s]||F.f-Z.f});r<i;++r){var M=a[r].s;if(A[M]>e)C+=E-(1<<z-A[M]),A[M]=e;else break}for(C>>=g;C>0;){var b=a[r].s;A[b]<e?C-=1<<e-A[b]++-1:++r}for(;r>=0&&C;--r){var d=a[r].s;A[d]==e&&(--A[d],++C)}z=e}return{t:new U(A),l:z}},"hTree"),et=s(function(t,e,n){return t.s==-1?Math.max(et(t.l,e,n+1),et(t.r,e,n+1)):e[t.s]=n},"ln"),vt=s(function(t){for(var e=t.length;e&&!t[--e];);for(var n=new j(++e),r=0,i=t[0],a=1,o=s(function(u){n[r++]=u},"w"),l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[l]}return{c:n.subarray(0,r),n:e}},"lc"),be=s(function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},"clen"),zt=s(function(t,e,n){var r=n.length,i=Ze(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},"wfblk"),pt=s(function(t,e,n,r,i,a,o,l,u,f,h){ae(e,h++,n),++i[256];for(var c=We(i,15),v=c.t,A=c.l,z=We(a,15),C=z.t,g=z.l,E=vt(v),M=E.c,b=E.n,d=vt(C),x=d.c,F=d.n,Z=new j(19),w=0;w<M.length;++w)++Z[M[w]&31];for(var w=0;w<x.length;++w)++Z[x[w]&31];for(var y=We(Z,7),S=y.t,L=y.l,O=19;O>4&&!S[Pe[O-1]];--O);var B=f+5<<3,T=be(i,fe)+be(a,Ae)+o,$=be(i,v)+be(a,C)+o+14+3*O+be(Z,S)+2*Z[16]+3*Z[17]+7*Z[18];if(u>=0&&B<=T&&B<=$)return zt(e,h,t.subarray(u,u+f));var X,D,k,N;if(ae(e,h,1+($<T)),h+=2,$<T){X=Q(v,A,0),D=v,k=Q(C,g,0),N=C;var ge=Q(S,L,0);ae(e,h,b-257),ae(e,h+5,F-1),ae(e,h+10,O-4),h+=14;for(var w=0;w<O;++w)ae(e,h+3*w,S[Pe[w]]);h+=3*O;for(var K=[M,x],se=0;se<2;++se)for(var V=K[se],w=0;w<V.length;++w){var J=V[w]&31;ae(e,h,ge[J]),h+=S[J],J>15&&(ae(e,h,V[w]>>5&127),h+=V[w]>>12)}}else X=qt,D=fe,k=Kt,N=Ae;for(var w=0;w<l;++w){var P=r[w];if(P>255){var J=P>>18&31;Ce(e,h,X[J+257]),h+=D[J+257],J>7&&(ae(e,h,P>>23&31),h+=Me[J]);var ie=P&31;Ce(e,h,k[ie]),h+=N[ie],ie>3&&(Ce(e,h,P>>5&8191),h+=Se[ie])}else Ce(e,h,X[P]),h+=D[P]}return Ce(e,h,X[256]),h+D[256]},"wblk"),Jt=new Ne([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),he=new U(0),Wt=s(function(t,e,n,r,i,a){var o=a.z||t.length,l=new U(r+o+5*(1+Math.ceil(o/7e3))+i),u=l.subarray(r,l.length-i),f=a.l,h=(a.r||0)&7;if(e){h&&(u[0]=a.r>>3);for(var c=Jt[e-1],v=c>>13,A=c&8191,z=(1<<n)-1,C=a.p||new j(32768),g=a.h||new j(z+1),E=Math.ceil(n/3),M=2*E,b=s(function(ht){return(t[ht]^t[ht+1]<<E^t[ht+2]<<M)&z},"hsh"),d=new Ne(25e3),x=new j(288),F=new j(32),Z=0,w=0,y=a.i||0,S=0,L=a.w||0,O=0;y+2<o;++y){var B=b(y),T=y&32767,$=g[B];if(C[T]=$,g[B]=T,L<=y){var X=o-y;if((Z>7e3||S>24576)&&(X>423||!f)){h=pt(t,u,0,d,x,F,w,S,O,y-O,h),S=Z=w=0,O=y;for(var D=0;D<286;++D)x[D]=0;for(var D=0;D<30;++D)F[D]=0}var k=2,N=0,ge=A,K=T-$&32767;if(X>2&&B==b(y-K))for(var se=Math.min(v,X)-1,V=Math.min(32767,y),J=Math.min(258,X);K<=V&&--ge&&T!=$;){if(t[y+k]==t[y+k-K]){for(var P=0;P<J&&t[y+P]==t[y+P-K];++P);if(P>k){if(k=P,N=K,P>se)break;for(var ie=Math.min(K,P-2),we=0,D=0;D<ie;++D){var ze=y-K+D&32767,je=C[ze],Ke=ze-je&32767;Ke>we&&(we=Ke,$=ze)}}}T=$,$=C[T],K+=T-$&32767}if(N){d[S++]=268435456|Qe[k]<<18|ct[N];var He=Qe[k]&31,Xe=ct[N]&31;w+=Me[He]+Se[Xe],++x[257+He],++F[Xe],L=y+k,++Z}else d[S++]=t[y],++x[t[y]]}}for(y=Math.max(y,L);y<o;++y)d[S++]=t[y],++x[t[y]];h=pt(t,u,f,d,x,F,w,S,O,y-O,h),f||(a.r=h&7|u[h/8|0]<<3,h-=7,a.h=g,a.p=C,a.i=y,a.w=L)}else{for(var y=a.w||0;y<o+f;y+=65535){var Ee=y+65535;Ee>=o&&(u[h/8|0]=f,Ee=o),h=zt(u,h+1,t.subarray(y,Ee))}a.i=o}return ee(l,0,r+Ze(h)+i)},"dflt"),Qt=(function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t})(),Le=s(function(){var t=-1;return{p:s(function(e){for(var n=t,r=0;r<e.length;++r)n=Qt[n&255^e[r]]^n>>>8;t=n},"p"),d:s(function(){return~t},"d")}},"crc"),lt=s(function(){var t=1,e=0;return{p:s(function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},"p"),d:s(function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8},"d")}},"adler"),ye=s(function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new U(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return Wt(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},"dopt"),ke=s(function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},"mrg"),$t=s(function(t,e,n){for(var r=t(),i=t.toString(),a=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<r.length;++o){var l=r[o],u=a[o];if(typeof l=="function"){e+=";"+u+"=";var f=l.toString();if(l.prototype)if(f.indexOf("[native code]")!=-1){var h=f.indexOf(" ",8)+1;e+=f.slice(h,f.indexOf("(",h))}else{e+=f;for(var c in l.prototype)e+=";"+u+".prototype."+c+"="+l.prototype[c].toString()}else e+=f}else n[u]=l}return e},"wcln"),Ye=[],Pn=s(function(t){var e=[];for(var n in t)t[n].buffer&&e.push((t[n]=new t[n].constructor(t[n])).buffer);return e},"cbfs"),en=s(function(t,e,n,r){if(!Ye[n]){for(var i="",a={},o=t.length-1,l=0;l<o;++l)i=$t(t[l],i,a);Ye[n]={c:$t(t[o],i,a),e:a}}var u=ke({},Ye[n].e);return(0,Gt.default)(Ye[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",n,u,Pn(u),r)},"wrkr"),Re=s(function(){return[U,j,Ne,Me,Se,Pe,wt,kt,jt,Yt,Ge,Vt,Q,Ve,W,Je,Ze,ee,p,_e,De,ve,Et]},"bInflt"),Ie=s(function(){return[U,j,Ne,Me,Se,Pe,Qe,ct,qt,fe,Kt,Ae,Ge,Jt,he,Q,ae,Ce,We,et,vt,be,zt,pt,Ze,ee,Wt,ye,qe,ve]},"bDflt"),tn=s(function(){return[Ct,At,R,Le,Qt]},"gze"),nn=s(function(){return[bt,on]},"guze"),rn=s(function(){return[Ut,R,lt]},"zle"),an=s(function(){return[Mt]},"zule"),ve=s(function(t){return postMessage(t,[t.buffer])},"pbf"),Et=s(function(t){return t&&{out:t.size&&new U(t.size),dictionary:t.dictionary}},"gopt"),xe=s(function(t,e,n,r,i,a){var o=en(n,r,i,function(l,u){o.terminate(),a(l,u)});return o.postMessage([t,e],e.consume?[t.buffer]:[]),function(){o.terminate()}},"cbify"),ne=s(function(t){return t.ondata=function(e,n){return postMessage([e,n],[e.buffer])},function(e){e.data.length?(t.push(e.data[0],e.data[1]),postMessage([e.data[0].length])):t.flush()}},"astrm"),Fe=s(function(t,e,n,r,i,a,o){var l,u=en(t,r,i,function(f,h){f?(u.terminate(),e.ondata.call(e,f)):Array.isArray(h)?h.length==1?(e.queuedSize-=h[0],e.ondrain&&e.ondrain(h[0])):(h[1]&&u.terminate(),e.ondata.call(e,f,h[0],h[1])):o(h)});u.postMessage(n),e.queuedSize=0,e.push=function(f,h){e.ondata||p(5),l&&e.ondata(p(4,0,1),null,!!h),e.queuedSize+=f.length,u.postMessage([f,l=h],[f.buffer])},e.terminate=function(){u.terminate()},a&&(e.flush=function(){u.postMessage([])})},"astrmify"),q=s(function(t,e){return t[e]|t[e+1]<<8},"b2"),G=s(function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},"b4"),ut=s(function(t,e){return G(t,e)+G(t,e+4)*4294967296},"b8"),R=s(function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},"wbytes"),Ct=s(function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&R(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},"gzh"),bt=s(function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&p(6,"invalid gzip data");var e=t[3],n=10;e&4&&(n+=(t[10]|t[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[n++]);return n+(e&2)},"gzs"),on=s(function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},"gzl"),At=s(function(t){return 10+(t.filename?t.filename.length+1:0)},"gzhl"),Ut=s(function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=lt();i.p(e.dictionary),R(t,2,i.d())}},"zlh"),Mt=s(function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&p(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&p(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2},"zls");function de(t,e){return typeof t=="function"&&(e=t,t={}),this.ondata=e,t}s(de,"StrmOpt");var te=(function(){function t(e,n){if(typeof e=="function"&&(n=e,e={}),this.ondata=n,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new U(98304),this.o.dictionary){var r=this.o.dictionary.subarray(-32768);this.b.set(r,32768-r.length),this.s.i=32768-r.length}}return s(t,"Deflate"),t.prototype.p=function(e,n){this.ondata(ye(e,this.o,0,0,this.s),n)},t.prototype.push=function(e,n){this.ondata||p(5),this.s.l&&p(4);var r=e.length+this.s.z;if(r>this.b.length){if(r>2*this.b.length-32768){var i=new U(r&-32768);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;this.b.set(e.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(a),32768),this.s.z=e.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=n&1,(this.s.z>this.s.w+8191||n)&&(this.p(this.b,n||!1),this.s.w=this.s.i,this.s.i-=2)},t.prototype.flush=function(){this.ondata||p(5),this.s.l&&p(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},t})();m.Deflate=te;var sn=(function(){function t(e,n){Fe([Ie,function(){return[ne,te]}],this,de.call(this,e,n),function(r){var i=new te(r.data);onmessage=ne(i)},6,1)}return s(t,"AsyncDeflate"),t})();m.AsyncDeflate=sn;function ln(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),xe(t,e,[Ie],function(r){return ve(qe(r.data[0],r.data[1]))},0,n)}s(ln,"deflate");m.deflate=ln;function qe(t,e){return ye(t,e||{},0,0)}s(qe,"deflateSync");m.deflateSync=qe;var Y=(function(){function t(e,n){typeof e=="function"&&(n=e,e={}),this.ondata=n;var r=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:r?r.length:0},this.o=new U(32768),this.p=new U(0),r&&this.o.set(r)}return s(t,"Inflate"),t.prototype.e=function(e){if(this.ondata||p(5),this.d&&p(4),!this.p.length)this.p=e;else if(e.length){var n=new U(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length),this.p=n}},t.prototype.c=function(e){this.s.i=+(this.d=e||!1);var n=this.s.b,r=_e(this.p,this.s,this.o);this.ondata(ee(r,n,this.s.b),this.d),this.o=ee(r,this.s.b-32768),this.s.b=this.o.length,this.p=ee(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(e,n){this.e(e),this.c(n)},t})();m.Inflate=Y;var St=(function(){function t(e,n){Fe([Re,function(){return[ne,Y]}],this,de.call(this,e,n),function(r){var i=new Y(r.data);onmessage=ne(i)},7,0)}return s(t,"AsyncInflate"),t})();m.AsyncInflate=St;function Zt(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),xe(t,e,[Re],function(r){return ve(De(r.data[0],Et(r.data[1])))},1,n)}s(Zt,"inflate");m.inflate=Zt;function De(t,e){return _e(t,{i:2},e&&e.out,e&&e.dictionary)}s(De,"inflateSync");m.inflateSync=De;var tt=(function(){function t(e,n){this.c=Le(),this.l=0,this.v=1,te.call(this,e,n)}return s(t,"Gzip"),t.prototype.push=function(e,n){this.c.p(e),this.l+=e.length,te.prototype.push.call(this,e,n)},t.prototype.p=function(e,n){var r=ye(e,this.o,this.v&&At(this.o),n&&8,this.s);this.v&&(Ct(r,this.o),this.v=0),n&&(R(r,r.length-8,this.c.d()),R(r,r.length-4,this.l)),this.ondata(r,n)},t.prototype.flush=function(){te.prototype.flush.call(this)},t})();m.Gzip=tt;m.Compress=tt;var fn=(function(){function t(e,n){Fe([Ie,tn,function(){return[ne,te,tt]}],this,de.call(this,e,n),function(r){var i=new tt(r.data);onmessage=ne(i)},8,1)}return s(t,"AsyncGzip"),t})();m.AsyncGzip=fn;m.AsyncCompress=fn;function hn(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),xe(t,e,[Ie,tn,function(){return[nt]}],function(r){return ve(nt(r.data[0],r.data[1]))},2,n)}s(hn,"gzip");m.gzip=hn;m.compress=hn;function nt(t,e){e||(e={});var n=Le(),r=t.length;n.p(t);var i=ye(t,e,At(e),8),a=i.length;return Ct(i,e),R(i,a-8,n.d()),R(i,a-4,r),i}s(nt,"gzipSync");m.gzipSync=nt;m.compressSync=nt;var rt=(function(){function t(e,n){this.v=1,this.r=0,Y.call(this,e,n)}return s(t,"Gunzip"),t.prototype.push=function(e,n){if(Y.prototype.e.call(this,e),this.r+=e.length,this.v){var r=this.p.subarray(this.v-1),i=r.length>3?bt(r):4;if(i>r.length){if(!n)return}else this.v>1&&this.onmember&&this.onmember(this.r-r.length);this.p=r.subarray(i),this.v=0}Y.prototype.c.call(this,n),this.s.f&&!this.s.l&&!n&&(this.v=Ze(this.s.p)+9,this.s={i:0},this.o=new U(0),this.push(new U(0),n))},t})();m.Gunzip=rt;var un=(function(){function t(e,n){var r=this;Fe([Re,nn,function(){return[ne,Y,rt]}],this,de.call(this,e,n),function(i){var a=new rt(i.data);a.onmember=function(o){return postMessage(o)},onmessage=ne(a)},9,0,function(i){return r.onmember&&r.onmember(i)})}return s(t,"AsyncGunzip"),t})();m.AsyncGunzip=un;function cn(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),xe(t,e,[Re,nn,function(){return[it]}],function(r){return ve(it(r.data[0],r.data[1]))},3,n)}s(cn,"gunzip");m.gunzip=cn;function it(t,e){var n=bt(t);return n+8>t.length&&p(6,"invalid gzip data"),_e(t.subarray(n,-8),{i:2},e&&e.out||new U(on(t)),e&&e.dictionary)}s(it,"gunzipSync");m.gunzipSync=it;var gt=(function(){function t(e,n){this.c=lt(),this.v=1,te.call(this,e,n)}return s(t,"Zlib"),t.prototype.push=function(e,n){this.c.p(e),te.prototype.push.call(this,e,n)},t.prototype.p=function(e,n){var r=ye(e,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(Ut(r,this.o),this.v=0),n&&R(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){te.prototype.flush.call(this)},t})();m.Zlib=gt;var Gn=(function(){function t(e,n){Fe([Ie,rn,function(){return[ne,te,gt]}],this,de.call(this,e,n),function(r){var i=new gt(r.data);onmessage=ne(i)},10,1)}return s(t,"AsyncZlib"),t})();m.AsyncZlib=Gn;function Bn(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),xe(t,e,[Ie,rn,function(){return[yt]}],function(r){return ve(yt(r.data[0],r.data[1]))},4,n)}s(Bn,"zlib");m.zlib=Bn;function yt(t,e){e||(e={});var n=lt();n.p(t);var r=ye(t,e,e.dictionary?6:2,4);return Ut(r,e),R(r,r.length-4,n.d()),r}s(yt,"zlibSync");m.zlibSync=yt;var at=(function(){function t(e,n){Y.call(this,e,n),this.v=e&&e.dictionary?2:1}return s(t,"Unzlib"),t.prototype.push=function(e,n){if(Y.prototype.e.call(this,e),this.v){if(this.p.length<6&&!n)return;this.p=this.p.subarray(Mt(this.p,this.v-1)),this.v=0}n&&(this.p.length<4&&p(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Y.prototype.c.call(this,n)},t})();m.Unzlib=at;var vn=(function(){function t(e,n){Fe([Re,an,function(){return[ne,Y,at]}],this,de.call(this,e,n),function(r){var i=new at(r.data);onmessage=ne(i)},11,0)}return s(t,"AsyncUnzlib"),t})();m.AsyncUnzlib=vn;function pn(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),xe(t,e,[Re,an,function(){return[ot]}],function(r){return ve(ot(r.data[0],Et(r.data[1])))},5,n)}s(pn,"unzlib");m.unzlib=pn;function ot(t,e){return _e(t.subarray(Mt(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}s(ot,"unzlibSync");m.unzlibSync=ot;var dt=(function(){function t(e,n){this.o=de.call(this,e,n)||{},this.G=rt,this.I=Y,this.Z=at}return s(t,"Decompress"),t.prototype.i=function(){var e=this;this.s.ondata=function(n,r){e.ondata(n,r)}},t.prototype.push=function(e,n){if(this.ondata||p(5),this.s)this.s.push(e,n);else{if(this.p&&this.p.length){var r=new U(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,n),this.p=null)}},t})();m.Decompress=dt;var Nn=(function(){function t(e,n){dt.call(this,e,n),this.queuedSize=0,this.G=un,this.I=St,this.Z=vn}return s(t,"AsyncDecompress"),t.prototype.i=function(){var e=this;this.s.ondata=function(n,r,i){e.ondata(n,r,i)},this.s.ondrain=function(n){e.queuedSize-=n,e.ondrain&&e.ondrain(n)}},t.prototype.push=function(e,n){this.queuedSize+=e.length,dt.prototype.push.call(this,e,n)},t})();m.AsyncDecompress=Nn;function _n(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),t[0]==31&&t[1]==139&&t[2]==8?cn(t,e,n):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?Zt(t,e,n):pn(t,e,n)}s(_n,"decompress");m.decompress=_n;function kn(t,e){return t[0]==31&&t[1]==139&&t[2]==8?it(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?De(t,e):ot(t,e)}s(kn,"decompressSync");m.decompressSync=kn;var Lt=s(function(t,e,n,r){for(var i in t){var a=t[i],o=e+i,l=r;Array.isArray(a)&&(l=ke(r,a[1]),a=a[0]),a instanceof U?n[o]=[a,l]:(n[o+="/"]=[new U(0),l],Lt(a,o,n,r))}},"fltn"),Pt=typeof TextEncoder<"u"&&new TextEncoder,mt=typeof TextDecoder<"u"&&new TextDecoder,gn=0;try{mt.decode(he,{stream:!0}),gn=1}catch{}var yn=s(function(t){for(var e="",n=0;;){var r=t[n++],i=(r>127)+(r>223)+(r>239);if(n+i>t.length)return{s:e,r:ee(t,n-1)};i?i==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}},"dutf8"),qn=(function(){function t(e){this.ondata=e,gn?this.t=new TextDecoder:this.p=he}return s(t,"DecodeUTF8"),t.prototype.push=function(e,n){if(this.ondata||p(5),n=!!n,this.t){this.ondata(this.t.decode(e,{stream:!0}),n),n&&(this.t.decode().length&&p(8),this.t=null);return}this.p||p(4);var r=new U(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=yn(r),a=i.s,o=i.r;n?(o.length&&p(8),this.p=null):this.p=o,this.ondata(a,n)},t})();m.DecodeUTF8=qn;var jn=(function(){function t(e){this.ondata=e}return s(t,"EncodeUTF8"),t.prototype.push=function(e,n){this.ondata||p(5),this.d&&p(4),this.ondata(ce(e),this.d=n||!1)},t})();m.EncodeUTF8=jn;function ce(t,e){if(e){for(var n=new U(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}if(Pt)return Pt.encode(t);for(var i=t.length,a=new U(t.length+(t.length>>1)),o=0,l=s(function(h){a[o++]=h},"w"),r=0;r<i;++r){if(o+5>a.length){var u=new U(o+8+(i-r<<1));u.set(a),a=u}var f=t.charCodeAt(r);f<128||e?l(f):f<2048?(l(192|f>>6),l(128|f&63)):f>55295&&f<57344?(f=65536+(f&1047552)|t.charCodeAt(++r)&1023,l(240|f>>18),l(128|f>>12&63),l(128|f>>6&63),l(128|f&63)):(l(224|f>>12),l(128|f>>6&63),l(128|f&63))}return ee(a,0,o)}s(ce,"strToU8");m.strToU8=ce;function Rt(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(mt)return mt.decode(t);var i=yn(t),a=i.s,n=i.r;return n.length&&p(8),a}}s(Rt,"strFromU8");m.strFromU8=Rt;var dn=s(function(t){return t==1?3:t<6?2:t==9?1:0},"dbf"),mn=s(function(t,e){return e+30+q(t,e+26)+q(t,e+28)},"slzh"),wn=s(function(t,e,n){var r=q(t,e+28),i=Rt(t.subarray(e+46,e+46+r),!(q(t,e+8)&2048)),a=e+46+r,o=G(t,e+20),l=n&&o==4294967295?zn(t,a):[o,G(t,e+24),G(t,e+42)],u=l[0],f=l[1],h=l[2];return[q(t,e+10),u,f,i,a+q(t,e+30)+q(t,e+32),h]},"zh"),zn=s(function(t,e){for(;q(t,e)!=1;e+=4+q(t,e+2));return[ut(t,e+12),ut(t,e+4),ut(t,e+20)]},"z64e"),ue=s(function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&p(9),e+=r+4}return e},"exfl"),Ue=s(function(t,e,n,r,i,a,o,l){var u=r.length,f=n.extra,h=l&&l.length,c=ue(f);R(t,e,o!=null?33639248:67324752),e+=4,o!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(a<0&&8),t[e++]=i&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var v=new Date(n.mtime==null?Date.now():n.mtime),A=v.getFullYear()-1980;if((A<0||A>119)&&p(10),R(t,e,A<<25|v.getMonth()+1<<21|v.getDate()<<16|v.getHours()<<11|v.getMinutes()<<5|v.getSeconds()>>1),e+=4,a!=-1&&(R(t,e,n.crc),R(t,e+4,a<0?-a-2:a),R(t,e+8,n.size)),R(t,e+12,u),R(t,e+14,c),e+=16,o!=null&&(R(t,e,h),R(t,e+6,n.attrs),R(t,e+10,o),e+=14),t.set(r,e),e+=u,c)for(var z in f){var C=f[z],g=C.length;R(t,e,+z),R(t,e+2,g),t.set(C,e+4),e+=4+g}return h&&(t.set(l,e),e+=h),e},"wzh"),It=s(function(t,e,n,r,i){R(t,e,101010256),R(t,e+8,n),R(t,e+10,n),R(t,e+12,r),R(t,e+16,i)},"wzf"),Be=(function(){function t(e){this.filename=e,this.c=Le(),this.size=0,this.compression=0}return s(t,"ZipPassThrough"),t.prototype.process=function(e,n){this.ondata(null,e,n)},t.prototype.push=function(e,n){this.ondata||p(5),this.c.p(e),this.size+=e.length,n&&(this.crc=this.c.d()),this.process(e,n||!1)},t})();m.ZipPassThrough=Be;var Kn=(function(){function t(e,n){var r=this;n||(n={}),Be.call(this,e),this.d=new te(n,function(i,a){r.ondata(null,i,a)}),this.compression=8,this.flag=dn(n.level)}return s(t,"ZipDeflate"),t.prototype.process=function(e,n){try{this.d.push(e,n)}catch(r){this.ondata(r,null,n)}},t.prototype.push=function(e,n){Be.prototype.push.call(this,e,n)},t})();m.ZipDeflate=Kn;var Yn=(function(){function t(e,n){var r=this;n||(n={}),Be.call(this,e),this.d=new sn(n,function(i,a,o){r.ondata(i,a,o)}),this.compression=8,this.flag=dn(n.level),this.terminate=this.d.terminate}return s(t,"AsyncZipDeflate"),t.prototype.process=function(e,n){this.d.push(e,n)},t.prototype.push=function(e,n){Be.prototype.push.call(this,e,n)},t})();m.AsyncZipDeflate=Yn;var Vn=(function(){function t(e){this.ondata=e,this.u=[],this.d=1}return s(t,"Zip"),t.prototype.add=function(e){var n=this;if(this.ondata||p(5),this.d&2)this.ondata(p(4+(this.d&1)*8,0,1),null,!1);else{var r=ce(e.filename),i=r.length,a=e.comment,o=a&&ce(a),l=i!=e.filename.length||o&&a.length!=o.length,u=i+ue(e.extra)+30;i>65535&&this.ondata(p(11,0,1),null,!1);var f=new U(u);Ue(f,0,e,r,l,-1);var h=[f],c=s(function(){for(var g=0,E=h;g<E.length;g++){var M=E[g];n.ondata(null,M,!1)}h=[]},"pAll_1"),v=this.d;this.d=0;var A=this.u.length,z=ke(e,{f:r,u:l,o,t:s(function(){e.terminate&&e.terminate()},"t"),r:s(function(){if(c(),v){var g=n.u[A+1];g?g.r():n.d=1}v=1},"r")}),C=0;e.ondata=function(g,E,M){if(g)n.ondata(g,E,M),n.terminate();else if(C+=E.length,h.push(E),M){var b=new U(16);R(b,0,134695760),R(b,4,e.crc),R(b,8,C),R(b,12,e.size),h.push(b),z.c=C,z.b=u+C+16,z.crc=e.crc,z.size=e.size,v&&z.r(),v=1}else v&&c()},this.u.push(z)}},t.prototype.end=function(){var e=this;if(this.d&2){this.ondata(p(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:s(function(){e.d&1&&(e.u.splice(-1,1),e.e())},"r"),t:s(function(){},"t")}),this.d=3},t.prototype.e=function(){for(var e=0,n=0,r=0,i=0,a=this.u;i<a.length;i++){var o=a[i];r+=46+o.f.length+ue(o.extra)+(o.o?o.o.length:0)}for(var l=new U(r+22),u=0,f=this.u;u<f.length;u++){var o=f[u];Ue(l,e,o,o.f,o.u,-o.c-2,n,o.o),e+=46+o.f.length+ue(o.extra)+(o.o?o.o.length:0),n+=o.b}It(l,e,this.u.length,r,n),this.ondata(null,l,!0),this.d=2},t.prototype.terminate=function(){for(var e=0,n=this.u;e<n.length;e++){var r=n[e];r.t()}this.d=2},t})();m.Zip=Vn;function Jn(t,e,n){n||(n=e,e={}),typeof n!="function"&&p(7);var r={};Lt(t,"",r,e);var i=Object.keys(r),a=i.length,o=0,l=0,u=a,f=new Array(a),h=[],c=s(function(){for(var g=0;g<h.length;++g)h[g]()},"tAll"),v=s(function(g,E){st(function(){n(g,E)})},"cbd");st(function(){v=n});var A=s(function(){var g=new U(l+22),E=o,M=l-o;l=0;for(var b=0;b<u;++b){var d=f[b];try{var x=d.c.length;Ue(g,l,d,d.f,d.u,x);var F=30+d.f.length+ue(d.extra),Z=l+F;g.set(d.c,Z),Ue(g,o,d,d.f,d.u,x,l,d.m),o+=16+F+(d.m?d.m.length:0),l=Z+x}catch(w){return v(w,null)}}It(g,o,f.length,M,E),v(null,g)},"cbf");a||A();for(var z=s(function(g){var E=i[g],M=r[E],b=M[0],d=M[1],x=Le(),F=b.length;x.p(b);var Z=ce(E),w=Z.length,y=d.comment,S=y&&ce(y),L=S&&S.length,O=ue(d.extra),B=d.level==0?0:8,T=s(function($,X){if($)c(),v($,null);else{var D=X.length;f[g]=ke(d,{size:F,crc:x.d(),c:X,f:Z,m:S,u:w!=E.length||S&&y.length!=L,compression:B}),o+=30+w+O+D,l+=76+2*(w+O)+(L||0)+D,--a||A()}},"cbl");if(w>65535&&T(p(11,0,1),null),!B)T(null,b);else if(F<16e4)try{T(null,qe(b,d))}catch($){T($,null)}else h.push(ln(b,d,T))},"_loop_1"),C=0;C<u;++C)z(C);return c}s(Jn,"zip");m.zip=Jn;function Wn(t,e){e||(e={});var n={},r=[];Lt(t,"",n,e);var i=0,a=0;for(var o in n){var l=n[o],u=l[0],f=l[1],h=f.level==0?0:8,c=ce(o),v=c.length,A=f.comment,z=A&&ce(A),C=z&&z.length,g=ue(f.extra);v>65535&&p(11);var E=h?qe(u,f):u,M=E.length,b=Le();b.p(u),r.push(ke(f,{size:u.length,crc:b.d(),c:E,f:c,m:z,u:v!=o.length||z&&A.length!=C,o:i,compression:h})),i+=30+v+g+M,a+=76+2*(v+g)+(C||0)+M}for(var d=new U(a+22),x=i,F=a-i,Z=0;Z<r.length;++Z){var c=r[Z];Ue(d,c.o,c,c.f,c.u,c.c.length);var w=30+c.f.length+ue(c.extra);d.set(c.c,c.o+w),Ue(d,i,c,c.f,c.u,c.c.length,c.o,c.m),i+=16+w+(c.m?c.m.length:0)}return It(d,i,r.length,F,x),d}s(Wn,"zipSync");m.zipSync=Wn;var En=(function(){function t(){}return s(t,"UnzipPassThrough"),t.prototype.push=function(e,n){this.ondata(null,e,n)},t.compression=0,t})();m.UnzipPassThrough=En;var Qn=(function(){function t(){var e=this;this.i=new Y(function(n,r){e.ondata(null,n,r)})}return s(t,"UnzipInflate"),t.prototype.push=function(e,n){try{this.i.push(e,n)}catch(r){this.ondata(r,null,n)}},t.compression=8,t})();m.UnzipInflate=Qn;var er=(function(){function t(e,n){var r=this;n<32e4?this.i=new Y(function(i,a){r.ondata(null,i,a)}):(this.i=new St(function(i,a,o){r.ondata(i,a,o)}),this.terminate=this.i.terminate)}return s(t,"AsyncUnzipInflate"),t.prototype.push=function(e,n){this.i.terminate&&(e=ee(e,0)),this.i.push(e,n)},t.compression=8,t})();m.AsyncUnzipInflate=er;var tr=(function(){function t(e){this.onfile=e,this.k=[],this.o={0:En},this.p=he}return s(t,"Unzip"),t.prototype.push=function(e,n){var r=this;if(this.onfile||p(5),this.p||p(4),this.c>0){var i=Math.min(this.c,e.length),a=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(a,!this.c):this.k[0].push(a),e=e.subarray(i),e.length)return this.push(e,n)}else{var o=0,l=0,u=void 0,f=void 0;this.p.length?e.length?(f=new U(this.p.length+e.length),f.set(this.p),f.set(e,this.p.length)):f=this.p:f=e;for(var h=f.length,c=this.c,v=c&&this.d,A=s(function(){var E,M=G(f,l);if(M==67324752){o=1,u=l,z.d=null,z.c=0;var b=q(f,l+6),d=q(f,l+8),x=b&2048,F=b&8,Z=q(f,l+26),w=q(f,l+28);if(h>l+30+Z+w){var y=[];z.k.unshift(y),o=2;var S=G(f,l+18),L=G(f,l+22),O=Rt(f.subarray(l+30,l+=30+Z),!x);S==4294967295?(E=F?[-2]:zn(f,l),S=E[0],L=E[1]):F&&(S=-1),l+=w,z.c=S;var B,T={name:O,compression:d,start:s(function(){if(T.ondata||p(5),!S)T.ondata(null,he,!0);else{var $=r.o[d];$||T.ondata(p(14,"unknown compression type "+d,1),null,!1),B=S<0?new $(O):new $(O,S,L),B.ondata=function(N,ge,K){T.ondata(N,ge,K)};for(var X=0,D=y;X<D.length;X++){var k=D[X];B.push(k,!1)}r.k[0]==y&&r.c?r.d=B:B.push(he,!0)}},"start"),terminate:s(function(){B&&B.terminate&&B.terminate()},"terminate")};S>=0&&(T.size=S,T.originalSize=L),z.onfile(T)}return"break"}else if(c){if(M==134695760)return u=l+=12+(c==-2&&8),o=3,z.c=0,"break";if(M==33639248)return u=l-=4,o=3,z.c=0,"break"}},"_loop_2"),z=this;l<h-4;++l){var C=A();if(C==="break")break}if(this.p=he,c<0){var g=o?f.subarray(0,u-12-(c==-2&&8)-(G(f,u-16)==134695760&&4)):f.subarray(0,l);v?v.push(g,!!o):this.k[+(o==2)].push(g)}if(o&2)return this.push(f.subarray(l),n);this.p=f.subarray(l)}n&&(this.c&&p(13),this.p=null)},t.prototype.register=function(e){this.o[e.compression]=e},t})();m.Unzip=tr;var st=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(t){t()};function nr(t,e,n){n||(n=e,e={}),typeof n!="function"&&p(7);var r=[],i=s(function(){for(var g=0;g<r.length;++g)r[g]()},"tAll"),a={},o=s(function(g,E){st(function(){n(g,E)})},"cbd");st(function(){o=n});for(var l=t.length-22;G(t,l)!=101010256;--l)if(!l||t.length-l>65558)return o(p(13,0,1),null),i;var u=q(t,l+8);if(u){var f=u,h=G(t,l+16),c=h==4294967295||f==65535;if(c){var v=G(t,l-12);c=G(t,v)==101075792,c&&(f=u=G(t,v+32),h=G(t,v+48))}for(var A=e&&e.filter,z=s(function(g){var E=wn(t,h,c),M=E[0],b=E[1],d=E[2],x=E[3],F=E[4],Z=E[5],w=mn(t,Z);h=F;var y=s(function(L,O){L?(i(),o(L,null)):(O&&(a[x]=O),--u||o(null,a))},"cbl");if(!A||A({name:x,size:b,originalSize:d,compression:M}))if(!M)y(null,ee(t,w,w+b));else if(M==8){var S=t.subarray(w,w+b);if(d<524288||b>.8*d)try{y(null,De(S,{out:new U(d)}))}catch(L){y(L,null)}else r.push(Zt(S,{size:d},y))}else y(p(14,"unknown compression type "+M,1),null);else y(null,null)},"_loop_3"),C=0;C<f;++C)z(C)}else o(null,{});return i}s(nr,"unzip");m.unzip=nr;function rr(t,e){for(var n={},r=t.length-22;G(t,r)!=101010256;--r)(!r||t.length-r>65558)&&p(13);var i=q(t,r+8);if(!i)return{};var a=G(t,r+16),o=a==4294967295||i==65535;if(o){var l=G(t,r-12);o=G(t,l)==101075792,o&&(i=G(t,l+32),a=G(t,l+48))}for(var u=e&&e.filter,f=0;f<i;++f){var h=wn(t,a,o),c=h[0],v=h[1],A=h[2],z=h[3],C=h[4],g=h[5],E=mn(t,g);a=C,(!u||u({name:z,size:v,originalSize:A,compression:c}))&&(c?c==8?n[z]=De(t.subarray(E,E+v),{out:new U(A)}):p(14,"unknown compression type "+c):n[z]=ee(t,E,E+v))}return n}s(rr,"unzipSync");m.unzipSync=rr});var Ar={};Hn(Ar,{ZipLoader:()=>Tt,configureCache:()=>Mn,getCacheConfig:()=>Sn,isGlobalLogEnabled:()=>Ln,setGlobalLogEnabled:()=>Zn});module.exports=$n(Ar);var An=Xn(Cn());var ir=67324752,ar=33639248,or=101010256,sr=8,lr=0,fr=2*1024*1024,Un=[".astc",".pvr",".ktx",".dds"],hr=[".png",".jpg",".jpeg",".webp",".bmp",...Un],oe={MAX_RES_CACHE_SIZE:1e3,MAX_RES_CACHE_MEMORY:148*1024*1024,ENABLE_CACHE_LOGGING:!0};function Mn(t){t.maxSize!=null&&t.maxSize>=0&&(oe.MAX_RES_CACHE_SIZE=t.maxSize),t.maxMemory!=null&&t.maxMemory>=0&&(oe.MAX_RES_CACHE_MEMORY=t.maxMemory),typeof t.enableLogging=="boolean"&&(oe.ENABLE_CACHE_LOGGING=t.enableLogging)}s(Mn,"configureCache");function Sn(){return{maxSize:oe.MAX_RES_CACHE_SIZE,maxMemory:oe.MAX_RES_CACHE_MEMORY,enableLogging:oe.ENABLE_CACHE_LOGGING}}s(Sn,"getCacheConfig");var _=new Map,me=new Map,pe=0,re=new Map,Te=new Map,Ot=!0;function Zn(t){Ot=t}s(Zn,"setGlobalLogEnabled");function Ln(){return Ot}s(Ln,"isGlobalLogEnabled");function H(t,e,...n){Ot&&console[t](e,...n)}s(H,"logIfEnabled");var ur=s((t,e)=>{if(!e)return t;let n=new TextEncoder().encode(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++){let a=n[i%n.length];r[i]=t[i]^a}return r},"decryptData"),bn=s(t=>{let e=t.match(/(?:remote|assets)\/(.+)$/);return e?e[1]:t},"extractFilePath"),xt=s(t=>{let e=t.match(/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}/);if(e)return e[0];let n=t.split("/").pop()||t,r=n.indexOf(".");return r===-1?n:n.slice(0,r)},"getZipCacheKey"),ft=s(t=>{Te.set(t,Date.now())},"updateResCacheAccessTime"),cr=s(t=>{if(!t)return 0;if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)&&t.buffer)return t.byteLength||0;if(typeof Blob<"u"&&t instanceof Blob)return t.size||0;if(typeof t=="string")return t.length*2;if(typeof Image<"u"&&t instanceof Image){let e=t.naturalWidth||t.width||0,n=t.naturalHeight||t.height||0;return e>0&&n>0?e*n*4:1024*1024}try{return JSON.stringify(t).length}catch{return 0}},"estimateResourceSize"),Rn=s(()=>{if(_.size>oe.MAX_RES_CACHE_SIZE){let t=Array.from(Te.entries()).sort((n,r)=>n[1]-r[1]),e=Math.max(1,Math.floor(_.size*.3));for(let n=0;n<e&&n<t.length;n++){let[r]=t[n],i=me.get(r)||0;_.delete(r),Te.delete(r),me.delete(r),pe-=i}H("log",`[ZipLoader] ResCache \u89E6\u53D1\u6570\u91CF\u6E05\u7406\uFF0C\u5DF2\u6E05\u7406 ${e} \u9879\uFF0C\u5269\u4F59 ${_.size} \u9879`)}if(pe>oe.MAX_RES_CACHE_MEMORY){let t=Array.from(Te.entries()).sort((n,r)=>n[1]-r[1]),e=0;for(let n=0;n<t.length&&pe>oe.MAX_RES_CACHE_MEMORY;n++){let[r]=t[n];if(!_.has(r))continue;let i=me.get(r)||0;_.delete(r),Te.delete(r),me.delete(r),pe-=i,e++}H("log",`[ZipLoader] ResCache \u89E6\u53D1\u5185\u5B58\u6E05\u7406\uFF0C\u79FB\u9664 ${e} \u9879\uFF0C\u5F53\u524D\u5185\u5B58 ${(pe/1024/1024).toFixed(2)}MB`)}},"enforceResCacheLimits"),Oe=s((t,e)=>{if(_.has(t)){let r=me.get(t)||0;pe-=r}_.set(t,e),ft(t);let n=cr(e);me.set(t,n),pe+=n,Rn()},"cacheResource"),Ft=s((t,e)=>new Error(e instanceof Event?e.type:String(e||t)),"createLoadError"),Dt=s(t=>(t/(1024*1024)).toFixed(2)+"M","formatSizeToMB"),vr=s((t,e="")=>{let n=new Map,r=new DataView(t),i=pr(r,t.byteLength);if(i===-1)throw new Error("Invalid ZIP file: End record not found");let a=r.getUint16(i+10,!0),l=r.getUint32(i+16,!0);for(let u=0;u<a;u++){let f=gr(t,r,l,e);n.set(f.fileName,f),l=f.localHeaderOffset+46+r.getUint16(f.localHeaderOffset+28,!0)+r.getUint16(f.localHeaderOffset+30,!0)+r.getUint16(f.localHeaderOffset+32,!0)}return n},"parseZipFile"),pr=s((t,e)=>{for(let n=e-22;n>=0;n--)if(t.getUint32(n,!0)===or)return n;return-1},"findEndRecord"),gr=s((t,e,n,r)=>{if(e.getUint32(n,!0)!==ar)throw new Error("Invalid ZIP file: Central directory signature not found");let i=e.getUint16(n+10,!0),a=e.getUint32(n+20,!0),o=e.getUint32(n+24,!0),l=e.getUint16(n+28,!0),u=e.getUint32(n+42,!0),f=e.getUint32(n+16,!0),h=new TextDecoder().decode(new Uint8Array(t,n+46,l)),c=yr(t,e,u,a,r),v=dr(c,i,o);return{fileName:h,compressedSize:a,uncompressedSize:o,compressionMethod:i,crc32:f,localHeaderOffset:n,data:v}},"parseZipEntry"),yr=s((t,e,n,r,i)=>{if(e.getUint32(n,!0)!==ir)throw new Error("Invalid ZIP file: Local header signature not found");let a=e.getUint16(n+26,!0),o=e.getUint16(n+28,!0),l=n+30+a+o,u=new Uint8Array(t,l,r);return(e.getUint16(n+6,!0)&1)!==0&&i&&(u=ur(u,i)),u},"readZipFileData"),dr=s((t,e,n)=>{if(e===sr)return An.default.inflateSync(t,{out:new Uint8Array(n)});if(e===lr)return t;throw new Error(`Unsupported compression method: ${e}`)},"decompressData"),mr=s(t=>({async:s(e=>new Promise((n,r)=>{try{switch(e){case"uint8array":n(t.data);break;case"text":n(new TextDecoder().decode(t.data));break;case"base64":let i=8192,a=[];for(let o=0;o<t.data.length;o+=i){let l=t.data.slice(o,o+i);a.push(String.fromCharCode(...l))}n(btoa(a.join("")));break;case"blob":n(new Blob([t.data]));break;default:n(t.data)}}catch(i){r(i)}}),"async")}),"createZipFileObject"),Tt=class t{constructor(){this._isInit=!1;this._remoteUrl="";this._password=""}static{s(this,"ZipLoader")}static{this._instance=null}static get instance(){return this._instance||(this._instance=new t),this._instance}static setLogEnabled(e){Zn(e)}static isLogEnabled(){return Ln()}static configureResCache(e){Mn(e)}static getResCacheConfig(){return Sn()}set remoteUrl(e){this._remoteUrl=e}get remoteUrl(){return this._remoteUrl}set password(e){this._password=e}get password(){return this._password}getZipCache(){return re}getResCache(){return _}clearResCache(e=!1){if(e){let n=_.size;_.clear(),Te.clear(),me.clear(),pe=0,H("log",`[ZipLoader] ResCache \u5DF2\u5168\u90E8\u6E05\u7406\uFF0C\u5171 ${n} \u9879`);return}Rn()}clearZipCache(){let e=re.size;re.clear(),H("log",`[ZipLoader] ZipCache \u5DF2\u6E05\u7406\uFF0C\u5171 ${e} \u9879`)}downloadZip(e,n=!1){return new Promise((r,i)=>{let a=new XMLHttpRequest;a.responseType="arraybuffer",a.onload=()=>{a.status===200?r(a.response):i(new Error(`Download failed: ${a.status}`))},a.onerror=()=>i(new Error("Download failed")),a.open("GET",`${e}.zip${n?"?t="+Date.now():""}`,!0),a.send()})}async loadZip(e,n=!1){return new Promise(async(r,i)=>{try{this._isInit||(this._initImageLoaders(),this._hookXMLHttpRequest(),this._isInit=!0,H("log","[ZipLoader] \u521D\u59CB\u5316\u5B8C\u6210"));let a=await this.downloadZip(`${this._remoteUrl}/${e}`,n);this._parseZip(a),this.clearResCache(!1),r()}catch(a){H("error","[ZipLoader] Load zip failed:",a),i(a)}})}_parseZip(e){try{let n=vr(e,this._password);for(let[r,i]of n){let a=mr(i),o=xt(r);re.set(o,a)}H("log",`[ZipLoader] ZIP \u89E3\u6790\u5B8C\u6210\uFF0C\u7F13\u5B58\u4E86 ${n.size} \u4E2A\u6587\u4EF6`)}catch(n){throw H("error","[ZipLoader] Parse zip failed:",n),n}}_initImageLoaders(){hr.forEach(e=>{this._registerImageLoader(e)})}_registerImageLoader(e){let n=Un.indexOf(e)!==-1,r=s((i,a,o)=>{this._handleImageDownload(i,e,n,o)},"downloadHandler");cc.assetManager?.downloader&&cc.assetManager.downloader.register(e,r)}_handleImageDownload(e,n,r,i){if(_.has(e)){ft(e),oe.ENABLE_CACHE_LOGGING&&H("log",`[ZipLoader] \u547D\u4E2D ResCache: ${e}`),i(null,_.get(e));return}let a=bn(e),o=xt(a);if(re.has(o)){this._loadFromZipCache(e,o,a,n,r,i);return}this._downloadFromNetwork(e,r,i)}_loadFromZipCache(e,n,r,i,a,o){H("log",`[ZipLoader] \u4F7F\u7528 ZipCache: ${r}`);let l=re.get(n);l&&l.async("uint8array").then(u=>{a?this._handleTextureData(e,n,r,u,o):u.length>fr?this._handleLargeImage(e,n,r,l,u,o):this._handleSmallImage(e,n,r,i,l,u,o)}).catch(u=>{H("error","[ZipLoader] Load from ZipCache failed:",u),o(u,null)})}_handleTextureData(e,n,r,i,a){H("log",`[ZipLoader] \u52A0\u8F7D\u7EB9\u7406: ${r}, \u5927\u5C0F: ${Dt(i.length)}`),Oe(e,i),re.delete(n),a(null,i)}_handleLargeImage(e,n,r,i,a,o){H("log",`[ZipLoader] \u52A0\u8F7D\u5927\u56FE\u7247(Blob): ${r}, \u5927\u5C0F: ${Dt(a.length)}`),i.async("blob").then(l=>{let u=URL.createObjectURL(l);this._loadImageFromUrl(u,f=>{URL.revokeObjectURL(u),Oe(e,f),re.delete(n),H("log",`[ZipLoader] \u56FE\u7247\u52A0\u8F7D\u6210\u529F: ${r}`),o(null,f)},f=>{URL.revokeObjectURL(u),H("error",`[ZipLoader] \u56FE\u7247\u52A0\u8F7D\u5931\u8D25: ${r}`,f),o(Ft("Image load failed",f),null)})})}_handleSmallImage(e,n,r,i,a,o,l){H("log",`[ZipLoader] \u52A0\u8F7D\u5C0F\u56FE\u7247(Base64): ${r}, \u5927\u5C0F: ${Dt(o.length)}`),a.async("base64").then(u=>{let f=`data:image/${i.slice(1)};base64,${u}`;this._loadImageFromUrl(f,h=>{Oe(e,h),re.delete(n),H("log",`[ZipLoader] \u56FE\u7247\u52A0\u8F7D\u6210\u529F: ${r}`),l(null,h)},h=>{H("error",`[ZipLoader] \u56FE\u7247\u52A0\u8F7D\u5931\u8D25: ${r}`,h),l(Ft("Image load failed",h),null)})})}_loadImageFromUrl(e,n,r){let i=new Image;i.crossOrigin="anonymous",i.onload=()=>n(i),i.onerror=a=>r(a),i.src=e}_downloadFromNetwork(e,n,r){if(n){let i=new XMLHttpRequest;i.responseType="arraybuffer",i.onload=()=>{i.status===200?(Oe(e,i.response),r(null,i.response)):r(new Error(`Download failed: ${i.status}`),null)},i.onerror=()=>r(new Error("Download failed"),null),i.open("GET",e,!0),i.send()}else this._loadImageFromUrl(e,i=>r(null,i),i=>r(Ft("Image download failed",i),null))}_hookXMLHttpRequest(){let e=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"response");e&&(this._hookXHROpen(),this._hookXHRSend(),this._hookXHRResponse(e))}_hookXHROpen(){let e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,r,i,a,o){let l=bn(r),u=xt(l);return _.has(r)?(H("log",`[ZipLoader] XHR\u62E6\u622A - \u68C0\u6D4B\u5230 ResCache: ${r}`),this.zipCacheUrl=r,this.zipCachePath=l,this.zipCacheKey=u,this.isFromCache=!0):re.has(u)?(H("log",`[ZipLoader] XHR\u62E6\u622A - \u68C0\u6D4B\u5230 ZipCache: ${l}`),this.zipCacheUrl=r,this.zipCachePath=l,this.zipCacheKey=u,this.isFromCache=!1):(this.zipCacheUrl=void 0,this.zipCachePath=void 0,this.zipCacheKey=void 0,this.isFromCache=void 0),e.call(this,n,r,i??!0,a,o)}}_hookXHRSend(){let e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=async function(n){if(this.zipCacheUrl){await wr(this);return}return e.call(this,n)}}_hookXHRResponse(e){Object.defineProperty(XMLHttpRequest.prototype,"response",{get:s(function(){if(this.zipCacheUrl&&_.has(this.zipCacheUrl)){let n=_.get(this.zipCacheUrl);return ft(this.zipCacheUrl),H("log",`[ZipLoader] \u8FD4\u56DE\u7F13\u5B58\u54CD\u5E94: ${this.zipCachePath}, \u7C7B\u578B: ${this.responseType||"default"}`),this.responseType==="json"?JSON.parse(n):n}return e.get?e.get.call(this):void 0},"get"),set:s(function(){},"set"),configurable:!0})}};async function wr(t){try{t.isFromCache?(H("log",`[ZipLoader] XHR \u76F4\u63A5\u4F7F\u7528 ResCache: ${t.zipCacheUrl}`),ft(t.zipCacheUrl)):_.has(t.zipCacheUrl)||await zr(t),Er(t,200,"OK",4),Cr(t)}catch(e){H("error",`[ZipLoader] \u7F13\u5B58\u8D44\u6E90\u52A0\u8F7D\u5931\u8D25: ${t.zipCachePath}`,e),br(t)}}s(wr,"handleCachedRequest");async function zr(t){let e=t.zipCacheKey;if(!e)return;let n=re.get(e);if(!n)return;let r=t.responseType||"text";if(H("log",`[ZipLoader] XHR \u52A0\u8F7D ZipCache \u8D44\u6E90: ${t.zipCachePath}, \u7C7B\u578B: ${r}`),t.responseType==="json"){let i=await n.async("text");Oe(t.zipCacheUrl,i),H("log",`[ZipLoader] JSON \u8D44\u6E90\u52A0\u8F7D\u6210\u529F: ${t.zipCachePath}`)}else{let i=await n.async(r);Oe(t.zipCacheUrl,i),H("log",`[ZipLoader] \u8D44\u6E90\u52A0\u8F7D\u6210\u529F: ${t.zipCachePath}, \u7C7B\u578B: ${r}`)}re.delete(e)}s(zr,"loadFromZipCacheToResCache");function Er(t,e,n,r){Object.defineProperty(t,"status",{get:s(()=>e,"get"),configurable:!0}),Object.defineProperty(t,"statusText",{get:s(()=>n,"get"),configurable:!0}),Object.defineProperty(t,"readyState",{get:s(()=>r,"get"),configurable:!0})}s(Er,"setXHRStatus");function Cr(t){if(typeof t.onload=="function"){let e=new ProgressEvent("load",{lengthComputable:!0,loaded:1,total:1});t.onload(e)}}s(Cr,"triggerXHRLoad");function br(t){if(t.onerror){let e=new ProgressEvent("error",{lengthComputable:!1,loaded:0,total:0});t.onerror(e)}}s(br,"triggerXHRError");0&&(module.exports={ZipLoader,configureCache,getCacheConfig,isGlobalLogEnabled,setGlobalLogEnabled});
