var bn=Object.create;var xe=Object.defineProperty;var An=Object.getOwnPropertyDescriptor;var Ln=Object.getOwnPropertyNames;var In=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty;var o=(t,e)=>xe(t,"name",{value:e,configurable:!0});var Sn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Mn=(t,e)=>{for(var n in e)xe(t,n,{get:e[n],enumerable:!0})},Dt=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ln(e))!Rn.call(t,i)&&i!==n&&xe(t,i,{get:()=>e[i],enumerable:!(r=An(e,i))||r.enumerable});return t};var Fn=(t,e,n)=>(n=t!=null?bn(In(t)):{},Dt(e||!t||!t.__esModule?xe(n,"default",{value:t,enumerable:!0}):n,t)),Dn=t=>Dt(xe({},"__esModule",{value:!0}),t);var mn=Sn(m=>{"use strict";var Tt={},Ht={};Ht.default=(function(t,e,n,r,i){var a=new Worker(Tt[e]||(Tt[e]=URL.createObjectURL(new Blob([t+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(s){var l=s.data,c=l.$e$;if(c){var f=new Error(c[0]);f.code=c[1],f.stack=c[2],i(f,null)}else i(null,l)},a.postMessage(n,r),a});var b=Uint8Array,k=Uint16Array,Xe=Int32Array,Ze=new b([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ce=new b([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Oe=new b([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$t=o(function(t,e){for(var n=new k(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Xe(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},"freb"),Xt=$t(Ze,2),yt=Xt.b,Je=Xt.r;yt[28]=258,Je[258]=28;var Pt=$t(Ce,0),Gt=Pt.b,ft=Pt.r,He=new k(32768);for(M=0;M<32768;++M)se=(M&43690)>>1|(M&21845)<<1,se=(se&52428)>>2|(se&13107)<<2,se=(se&61680)>>4|(se&3855)<<4,He[M]=((se&65280)>>8|(se&255)<<8)>>1;var se,M,Q=o((function(t,e,n){for(var r=t.length,i=0,a=new k(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new k(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(n){l=new k(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],h=e-t[i],u=s[t[i]-1]++<<h,v=u|(1<<h)-1;u<=v;++u)l[He[u]>>c]=f}else for(l=new k(r),i=0;i<r;++i)t[i]&&(l[i]=He[s[t[i]-1]++]>>15-t[i]);return l}),"hMap"),le=new b(288);for(M=0;M<144;++M)le[M]=8;var M;for(M=144;M<256;++M)le[M]=9;var M;for(M=256;M<280;++M)le[M]=7;var M;for(M=280;M<288;++M)le[M]=8;var M,Ue=new b(32);for(M=0;M<32;++M)Ue[M]=5;var M,Bt=Q(le,9,0),Nt=Q(le,9,1),qt=Q(Ue,5,0),jt=Q(Ue,5,1),ke=o(function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},"max"),W=o(function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},"bits"),Ve=o(function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},"bits16"),be=o(function(t){return(t+7)/8|0},"shft"),ee=o(function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new b(t.subarray(e,n))},"slc");m.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var kt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],p=o(function(t,e,n){var r=new Error(e||kt[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,p),!n)throw r;return r},"err"),Pe=o(function(t,e,n,r){var i=t.length,a=r?r.length:0;if(!i||e.f&&!e.l)return n||new b(0);var s=!n,l=s||e.i!=2,c=e.i;s&&(n=new b(i*3));var f=o(function(De){var Te=n.length;if(De>Te){var me=new b(Math.max(Te*2,De));me.set(n),n=me}},"cbuf"),h=e.f||0,u=e.p||0,v=e.b||0,E=e.l,w=e.d,Z=e.m,g=e.n,U=i*8;do{if(!E){h=W(t,u,1);var A=W(t,u+1,3);if(u+=3,A)if(A==1)E=Nt,w=jt,Z=9,g=5;else if(A==2){var D=W(t,u,31)+257,I=W(t,u+10,15)+4,z=D+W(t,u+5,31)+1;u+=14;for(var y=new b(z),L=new b(19),R=0;R<I;++R)L[Oe[R]]=W(t,u+R*3,7);u+=I*3;for(var O=ke(L),B=(1<<O)-1,x=Q(L,O,1),R=0;R<z;){var X=x[W(t,u,B)];u+=X&15;var C=X>>4;if(C<16)y[R++]=C;else{var $=0,T=0;for(C==16?(T=3+W(t,u,3),u+=2,$=y[R-1]):C==17?(T=3+W(t,u,7),u+=3):C==18&&(T=11+W(t,u,127),u+=7);T--;)y[R++]=$}}var q=y.subarray(0,D),N=y.subarray(D);Z=ke(q),g=ke(N),E=Q(q,Z,1),w=Q(N,g,1)}else p(1);else{var C=be(u)+4,d=t[C-4]|t[C-3]<<8,F=C+d;if(F>i){c&&p(0);break}l&&f(v+d),n.set(t.subarray(C,F),v),e.b=v+=d,e.p=u=F*8,e.f=h;continue}if(u>U){c&&p(0);break}}l&&f(v+131072);for(var ve=(1<<Z)-1,V=(1<<g)-1,oe=u;;oe=u){var $=E[Ve(t,u)&ve],Y=$>>4;if(u+=$&15,u>U){c&&p(0);break}if($||p(2),Y<256)n[v++]=Y;else if(Y==256){oe=u,E=null;break}else{var K=Y-254;if(Y>264){var R=Y-257,P=Ze[R];K=W(t,u,(1<<P)-1)+yt[R],u+=P}var ie=w[Ve(t,u)&V],ye=ie>>4;ie||p(3),u+=ie&15;var N=Gt[ye];if(ye>3){var P=Ce[ye];N+=Ve(t,u)&(1<<P)-1,u+=P}if(u>U){c&&p(0);break}l&&f(v+131072);var de=v+K;if(v<N){var Ne=a-N,qe=Math.min(N,de);for(Ne+v<0&&p(3);v<qe;++v)n[v]=r[Ne+v]}for(;v<de;++v)n[v]=n[v-N]}}e.l=E,e.p=oe,e.b=v,e.f=h,E&&(h=1,e.m=Z,e.d=w,e.n=g)}while(!h);return v!=n.length&&s?ee(n,0,v):n.subarray(0,v)},"inflt"),ae=o(function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},"wbits"),we=o(function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},"wbits16"),_e=o(function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:fe,l:0};if(i==1){var s=new b(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(F,D){return F.f-D.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],f=0,h=1,u=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=n[n[f].f<n[u].f?f++:u++],c=n[f!=h&&n[f].f<n[u].f?f++:u++],n[h++]={s:-1,f:l.f+c.f,l,r:c};for(var v=a[0].s,r=1;r<i;++r)a[r].s>v&&(v=a[r].s);var E=new k(v+1),w=Ye(n[h-1],E,0);if(w>e){var r=0,Z=0,g=w-e,U=1<<g;for(a.sort(function(D,I){return E[I.s]-E[D.s]||D.f-I.f});r<i;++r){var A=a[r].s;if(E[A]>e)Z+=U-(1<<w-E[A]),E[A]=e;else break}for(Z>>=g;Z>0;){var C=a[r].s;E[C]<e?Z-=1<<e-E[C]++-1:++r}for(;r>=0&&Z;--r){var d=a[r].s;E[d]==e&&(--E[d],++Z)}w=e}return{t:new b(E),l:w}},"hTree"),Ye=o(function(t,e,n){return t.s==-1?Math.max(Ye(t.l,e,n+1),Ye(t.r,e,n+1)):e[t.s]=n},"ln"),ht=o(function(t){for(var e=t.length;e&&!t[--e];);for(var n=new k(++e),r=0,i=t[0],a=1,s=o(function(c){n[r++]=c},"w"),l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:n.subarray(0,r),n:e}},"lc"),ze=o(function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},"clen"),dt=o(function(t,e,n){var r=n.length,i=be(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},"wfblk"),ut=o(function(t,e,n,r,i,a,s,l,c,f,h){ae(e,h++,n),++i[256];for(var u=_e(i,15),v=u.t,E=u.l,w=_e(a,15),Z=w.t,g=w.l,U=ht(v),A=U.c,C=U.n,d=ht(Z),F=d.c,D=d.n,I=new k(19),z=0;z<A.length;++z)++I[A[z]&31];for(var z=0;z<F.length;++z)++I[F[z]&31];for(var y=_e(I,7),L=y.t,R=y.l,O=19;O>4&&!L[Oe[O-1]];--O);var B=f+5<<3,x=ze(i,le)+ze(a,Ue)+s,X=ze(i,v)+ze(a,Z)+s+14+3*O+ze(I,L)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&B<=x&&B<=X)return dt(e,h,t.subarray(c,c+f));var $,T,q,N;if(ae(e,h,1+(X<x)),h+=2,X<x){$=Q(v,E,0),T=v,q=Q(Z,g,0),N=Z;var ve=Q(L,R,0);ae(e,h,C-257),ae(e,h+5,D-1),ae(e,h+10,O-4),h+=14;for(var z=0;z<O;++z)ae(e,h+3*z,L[Oe[z]]);h+=3*O;for(var V=[A,F],oe=0;oe<2;++oe)for(var Y=V[oe],z=0;z<Y.length;++z){var K=Y[z]&31;ae(e,h,ve[K]),h+=L[K],K>15&&(ae(e,h,Y[z]>>5&127),h+=Y[z]>>12)}}else $=Bt,T=le,q=qt,N=Ue;for(var z=0;z<l;++z){var P=r[z];if(P>255){var K=P>>18&31;we(e,h,$[K+257]),h+=T[K+257],K>7&&(ae(e,h,P>>23&31),h+=Ze[K]);var ie=P&31;we(e,h,q[ie]),h+=N[ie],ie>3&&(we(e,h,P>>5&8191),h+=Ce[ie])}else we(e,h,$[P]),h+=T[P]}return we(e,h,$[256]),h+T[256]},"wblk"),Vt=new Xe([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fe=new b(0),_t=o(function(t,e,n,r,i,a){var s=a.z||t.length,l=new b(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),f=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var u=Vt[e-1],v=u>>13,E=u&8191,w=(1<<n)-1,Z=a.p||new k(32768),g=a.h||new k(w+1),U=Math.ceil(n/3),A=2*U,C=o(function(st){return(t[st]^t[st+1]<<U^t[st+2]<<A)&w},"hsh"),d=new Xe(25e3),F=new k(288),D=new k(32),I=0,z=0,y=a.i||0,L=0,R=a.w||0,O=0;y+2<s;++y){var B=C(y),x=y&32767,X=g[B];if(Z[x]=X,g[B]=x,R<=y){var $=s-y;if((I>7e3||L>24576)&&($>423||!f)){h=ut(t,c,0,d,F,D,z,L,O,y-O,h),L=I=z=0,O=y;for(var T=0;T<286;++T)F[T]=0;for(var T=0;T<30;++T)D[T]=0}var q=2,N=0,ve=E,V=x-X&32767;if($>2&&B==C(y-V))for(var oe=Math.min(v,$)-1,Y=Math.min(32767,y),K=Math.min(258,$);V<=Y&&--ve&&x!=X;){if(t[y+q]==t[y+q-V]){for(var P=0;P<K&&t[y+P]==t[y+P-V];++P);if(P>q){if(q=P,N=V,P>oe)break;for(var ie=Math.min(V,P-2),ye=0,T=0;T<ie;++T){var de=y-V+T&32767,Ne=Z[de],qe=de-Ne&32767;qe>ye&&(ye=qe,X=de)}}}x=X,X=Z[x],V+=x-X&32767}if(N){d[L++]=268435456|Je[q]<<18|ft[N];var De=Je[q]&31,Te=ft[N]&31;z+=Ze[De]+Ce[Te],++F[257+De],++D[Te],R=y+q,++I}else d[L++]=t[y],++F[t[y]]}}for(y=Math.max(y,R);y<s;++y)d[L++]=t[y],++F[t[y]];h=ut(t,c,f,d,F,D,z,L,O,y-O,h),f||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=g,a.p=Z,a.i=y,a.w=R)}else{for(var y=a.w||0;y<s+f;y+=65535){var me=y+65535;me>=s&&(c[h/8|0]=f,me=s),h=dt(c,h+1,t.subarray(y,me))}a.i=s}return ee(l,0,r+be(h)+i)},"dflt"),Jt=(function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t})(),Ae=o(function(){var t=-1;return{p:o(function(e){for(var n=t,r=0;r<e.length;++r)n=Jt[n&255^e[r]]^n>>>8;t=n},"p"),d:o(function(){return~t},"d")}},"crc"),it=o(function(){var t=1,e=0;return{p:o(function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},"p"),d:o(function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8},"d")}},"adler"),pe=o(function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new b(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return _t(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},"dopt"),Ge=o(function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},"mrg"),xt=o(function(t,e,n){for(var r=t(),i=t.toString(),a=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<r.length;++s){var l=r[s],c=a[s];if(typeof l=="function"){e+=";"+c+"=";var f=l.toString();if(l.prototype)if(f.indexOf("[native code]")!=-1){var h=f.indexOf(" ",8)+1;e+=f.slice(h,f.indexOf("(",h))}else{e+=f;for(var u in l.prototype)e+=";"+c+".prototype."+u+"="+l.prototype[u].toString()}else e+=f}else n[c]=l}return e},"wcln"),je=[],Tn=o(function(t){var e=[];for(var n in t)t[n].buffer&&e.push((t[n]=new t[n].constructor(t[n])).buffer);return e},"cbfs"),Yt=o(function(t,e,n,r){if(!je[n]){for(var i="",a={},s=t.length-1,l=0;l<s;++l)i=xt(t[l],i,a);je[n]={c:xt(t[s],i,a),e:a}}var c=Ge({},je[n].e);return(0,Ht.default)(je[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",n,c,Tn(c),r)},"wrkr"),Le=o(function(){return[b,k,Xe,Ze,Ce,Oe,yt,Gt,Nt,jt,He,kt,Q,ke,W,Ve,be,ee,p,Pe,Me,ce,mt]},"bInflt"),Ie=o(function(){return[b,k,Xe,Ze,Ce,Oe,Je,ft,Bt,le,qt,Ue,He,Vt,fe,Q,ae,we,_e,Ye,ht,ze,dt,ut,be,ee,_t,pe,Be,ce]},"bDflt"),Kt=o(function(){return[wt,Ut,S,Ae,Jt]},"gze"),Wt=o(function(){return[zt,tn]},"guze"),Qt=o(function(){return[Et,S,it]},"zle"),en=o(function(){return[Zt]},"zule"),ce=o(function(t){return postMessage(t,[t.buffer])},"pbf"),mt=o(function(t){return t&&{out:t.size&&new b(t.size),dictionary:t.dictionary}},"gopt"),Re=o(function(t,e,n,r,i,a){var s=Yt(n,r,i,function(l,c){s.terminate(),a(l,c)});return s.postMessage([t,e],e.consume?[t.buffer]:[]),function(){s.terminate()}},"cbify"),ne=o(function(t){return t.ondata=function(e,n){return postMessage([e,n],[e.buffer])},function(e){e.data.length?(t.push(e.data[0],e.data[1]),postMessage([e.data[0].length])):t.flush()}},"astrm"),Se=o(function(t,e,n,r,i,a,s){var l,c=Yt(t,r,i,function(f,h){f?(c.terminate(),e.ondata.call(e,f)):Array.isArray(h)?h.length==1?(e.queuedSize-=h[0],e.ondrain&&e.ondrain(h[0])):(h[1]&&c.terminate(),e.ondata.call(e,f,h[0],h[1])):s(h)});c.postMessage(n),e.queuedSize=0,e.push=function(f,h){e.ondata||p(5),l&&e.ondata(p(4,0,1),null,!!h),e.queuedSize+=f.length,c.postMessage([f,l=h],[f.buffer])},e.terminate=function(){c.terminate()},a&&(e.flush=function(){c.postMessage([])})},"astrmify"),j=o(function(t,e){return t[e]|t[e+1]<<8},"b2"),G=o(function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},"b4"),lt=o(function(t,e){return G(t,e)+G(t,e+4)*4294967296},"b8"),S=o(function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},"wbytes"),wt=o(function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&S(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},"gzh"),zt=o(function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&p(6,"invalid gzip data");var e=t[3],n=10;e&4&&(n+=(t[10]|t[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[n++]);return n+(e&2)},"gzs"),tn=o(function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},"gzl"),Ut=o(function(t){return 10+(t.filename?t.filename.length+1:0)},"gzhl"),Et=o(function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=it();i.p(e.dictionary),S(t,2,i.d())}},"zlh"),Zt=o(function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&p(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&p(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2},"zls");function ge(t,e){return typeof t=="function"&&(e=t,t={}),this.ondata=e,t}o(ge,"StrmOpt");var te=(function(){function t(e,n){if(typeof e=="function"&&(n=e,e={}),this.ondata=n,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new b(98304),this.o.dictionary){var r=this.o.dictionary.subarray(-32768);this.b.set(r,32768-r.length),this.s.i=32768-r.length}}return o(t,"Deflate"),t.prototype.p=function(e,n){this.ondata(pe(e,this.o,0,0,this.s),n)},t.prototype.push=function(e,n){this.ondata||p(5),this.s.l&&p(4);var r=e.length+this.s.z;if(r>this.b.length){if(r>2*this.b.length-32768){var i=new b(r&-32768);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;this.b.set(e.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(a),32768),this.s.z=e.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=n&1,(this.s.z>this.s.w+8191||n)&&(this.p(this.b,n||!1),this.s.w=this.s.i,this.s.i-=2)},t.prototype.flush=function(){this.ondata||p(5),this.s.l&&p(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},t})();m.Deflate=te;var nn=(function(){function t(e,n){Se([Ie,function(){return[ne,te]}],this,ge.call(this,e,n),function(r){var i=new te(r.data);onmessage=ne(i)},6,1)}return o(t,"AsyncDeflate"),t})();m.AsyncDeflate=nn;function rn(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),Re(t,e,[Ie],function(r){return ce(Be(r.data[0],r.data[1]))},0,n)}o(rn,"deflate");m.deflate=rn;function Be(t,e){return pe(t,e||{},0,0)}o(Be,"deflateSync");m.deflateSync=Be;var _=(function(){function t(e,n){typeof e=="function"&&(n=e,e={}),this.ondata=n;var r=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:r?r.length:0},this.o=new b(32768),this.p=new b(0),r&&this.o.set(r)}return o(t,"Inflate"),t.prototype.e=function(e){if(this.ondata||p(5),this.d&&p(4),!this.p.length)this.p=e;else if(e.length){var n=new b(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length),this.p=n}},t.prototype.c=function(e){this.s.i=+(this.d=e||!1);var n=this.s.b,r=Pe(this.p,this.s,this.o);this.ondata(ee(r,n,this.s.b),this.d),this.o=ee(r,this.s.b-32768),this.s.b=this.o.length,this.p=ee(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(e,n){this.e(e),this.c(n)},t})();m.Inflate=_;var Ct=(function(){function t(e,n){Se([Le,function(){return[ne,_]}],this,ge.call(this,e,n),function(r){var i=new _(r.data);onmessage=ne(i)},7,0)}return o(t,"AsyncInflate"),t})();m.AsyncInflate=Ct;function bt(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),Re(t,e,[Le],function(r){return ce(Me(r.data[0],mt(r.data[1])))},1,n)}o(bt,"inflate");m.inflate=bt;function Me(t,e){return Pe(t,{i:2},e&&e.out,e&&e.dictionary)}o(Me,"inflateSync");m.inflateSync=Me;var Ke=(function(){function t(e,n){this.c=Ae(),this.l=0,this.v=1,te.call(this,e,n)}return o(t,"Gzip"),t.prototype.push=function(e,n){this.c.p(e),this.l+=e.length,te.prototype.push.call(this,e,n)},t.prototype.p=function(e,n){var r=pe(e,this.o,this.v&&Ut(this.o),n&&8,this.s);this.v&&(wt(r,this.o),this.v=0),n&&(S(r,r.length-8,this.c.d()),S(r,r.length-4,this.l)),this.ondata(r,n)},t.prototype.flush=function(){te.prototype.flush.call(this)},t})();m.Gzip=Ke;m.Compress=Ke;var an=(function(){function t(e,n){Se([Ie,Kt,function(){return[ne,te,Ke]}],this,ge.call(this,e,n),function(r){var i=new Ke(r.data);onmessage=ne(i)},8,1)}return o(t,"AsyncGzip"),t})();m.AsyncGzip=an;m.AsyncCompress=an;function on(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),Re(t,e,[Ie,Kt,function(){return[We]}],function(r){return ce(We(r.data[0],r.data[1]))},2,n)}o(on,"gzip");m.gzip=on;m.compress=on;function We(t,e){e||(e={});var n=Ae(),r=t.length;n.p(t);var i=pe(t,e,Ut(e),8),a=i.length;return wt(i,e),S(i,a-8,n.d()),S(i,a-4,r),i}o(We,"gzipSync");m.gzipSync=We;m.compressSync=We;var Qe=(function(){function t(e,n){this.v=1,this.r=0,_.call(this,e,n)}return o(t,"Gunzip"),t.prototype.push=function(e,n){if(_.prototype.e.call(this,e),this.r+=e.length,this.v){var r=this.p.subarray(this.v-1),i=r.length>3?zt(r):4;if(i>r.length){if(!n)return}else this.v>1&&this.onmember&&this.onmember(this.r-r.length);this.p=r.subarray(i),this.v=0}_.prototype.c.call(this,n),this.s.f&&!this.s.l&&!n&&(this.v=be(this.s.p)+9,this.s={i:0},this.o=new b(0),this.push(new b(0),n))},t})();m.Gunzip=Qe;var sn=(function(){function t(e,n){var r=this;Se([Le,Wt,function(){return[ne,_,Qe]}],this,ge.call(this,e,n),function(i){var a=new Qe(i.data);a.onmember=function(s){return postMessage(s)},onmessage=ne(a)},9,0,function(i){return r.onmember&&r.onmember(i)})}return o(t,"AsyncGunzip"),t})();m.AsyncGunzip=sn;function ln(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),Re(t,e,[Le,Wt,function(){return[et]}],function(r){return ce(et(r.data[0],r.data[1]))},3,n)}o(ln,"gunzip");m.gunzip=ln;function et(t,e){var n=zt(t);return n+8>t.length&&p(6,"invalid gzip data"),Pe(t.subarray(n,-8),{i:2},e&&e.out||new b(tn(t)),e&&e.dictionary)}o(et,"gunzipSync");m.gunzipSync=et;var ct=(function(){function t(e,n){this.c=it(),this.v=1,te.call(this,e,n)}return o(t,"Zlib"),t.prototype.push=function(e,n){this.c.p(e),te.prototype.push.call(this,e,n)},t.prototype.p=function(e,n){var r=pe(e,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(Et(r,this.o),this.v=0),n&&S(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){te.prototype.flush.call(this)},t})();m.Zlib=ct;var xn=(function(){function t(e,n){Se([Ie,Qt,function(){return[ne,te,ct]}],this,ge.call(this,e,n),function(r){var i=new ct(r.data);onmessage=ne(i)},10,1)}return o(t,"AsyncZlib"),t})();m.AsyncZlib=xn;function On(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),Re(t,e,[Ie,Qt,function(){return[vt]}],function(r){return ce(vt(r.data[0],r.data[1]))},4,n)}o(On,"zlib");m.zlib=On;function vt(t,e){e||(e={});var n=it();n.p(t);var r=pe(t,e,e.dictionary?6:2,4);return Et(r,e),S(r,r.length-4,n.d()),r}o(vt,"zlibSync");m.zlibSync=vt;var tt=(function(){function t(e,n){_.call(this,e,n),this.v=e&&e.dictionary?2:1}return o(t,"Unzlib"),t.prototype.push=function(e,n){if(_.prototype.e.call(this,e),this.v){if(this.p.length<6&&!n)return;this.p=this.p.subarray(Zt(this.p,this.v-1)),this.v=0}n&&(this.p.length<4&&p(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),_.prototype.c.call(this,n)},t})();m.Unzlib=tt;var fn=(function(){function t(e,n){Se([Le,en,function(){return[ne,_,tt]}],this,ge.call(this,e,n),function(r){var i=new tt(r.data);onmessage=ne(i)},11,0)}return o(t,"AsyncUnzlib"),t})();m.AsyncUnzlib=fn;function hn(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),Re(t,e,[Le,en,function(){return[nt]}],function(r){return ce(nt(r.data[0],mt(r.data[1])))},5,n)}o(hn,"unzlib");m.unzlib=hn;function nt(t,e){return Pe(t.subarray(Zt(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}o(nt,"unzlibSync");m.unzlibSync=nt;var pt=(function(){function t(e,n){this.o=ge.call(this,e,n)||{},this.G=Qe,this.I=_,this.Z=tt}return o(t,"Decompress"),t.prototype.i=function(){var e=this;this.s.ondata=function(n,r){e.ondata(n,r)}},t.prototype.push=function(e,n){if(this.ondata||p(5),this.s)this.s.push(e,n);else{if(this.p&&this.p.length){var r=new b(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,n),this.p=null)}},t})();m.Decompress=pt;var Hn=(function(){function t(e,n){pt.call(this,e,n),this.queuedSize=0,this.G=sn,this.I=Ct,this.Z=fn}return o(t,"AsyncDecompress"),t.prototype.i=function(){var e=this;this.s.ondata=function(n,r,i){e.ondata(n,r,i)},this.s.ondrain=function(n){e.queuedSize-=n,e.ondrain&&e.ondrain(n)}},t.prototype.push=function(e,n){this.queuedSize+=e.length,pt.prototype.push.call(this,e,n)},t})();m.AsyncDecompress=Hn;function $n(t,e,n){return n||(n=e,e={}),typeof n!="function"&&p(7),t[0]==31&&t[1]==139&&t[2]==8?ln(t,e,n):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?bt(t,e,n):hn(t,e,n)}o($n,"decompress");m.decompress=$n;function Xn(t,e){return t[0]==31&&t[1]==139&&t[2]==8?et(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?Me(t,e):nt(t,e)}o(Xn,"decompressSync");m.decompressSync=Xn;var At=o(function(t,e,n,r){for(var i in t){var a=t[i],s=e+i,l=r;Array.isArray(a)&&(l=Ge(r,a[1]),a=a[0]),a instanceof b?n[s]=[a,l]:(n[s+="/"]=[new b(0),l],At(a,s,n,r))}},"fltn"),Ot=typeof TextEncoder<"u"&&new TextEncoder,gt=typeof TextDecoder<"u"&&new TextDecoder,un=0;try{gt.decode(fe,{stream:!0}),un=1}catch{}var cn=o(function(t){for(var e="",n=0;;){var r=t[n++],i=(r>127)+(r>223)+(r>239);if(n+i>t.length)return{s:e,r:ee(t,n-1)};i?i==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}},"dutf8"),Pn=(function(){function t(e){this.ondata=e,un?this.t=new TextDecoder:this.p=fe}return o(t,"DecodeUTF8"),t.prototype.push=function(e,n){if(this.ondata||p(5),n=!!n,this.t){this.ondata(this.t.decode(e,{stream:!0}),n),n&&(this.t.decode().length&&p(8),this.t=null);return}this.p||p(4);var r=new b(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=cn(r),a=i.s,s=i.r;n?(s.length&&p(8),this.p=null):this.p=s,this.ondata(a,n)},t})();m.DecodeUTF8=Pn;var Gn=(function(){function t(e){this.ondata=e}return o(t,"EncodeUTF8"),t.prototype.push=function(e,n){this.ondata||p(5),this.d&&p(4),this.ondata(ue(e),this.d=n||!1)},t})();m.EncodeUTF8=Gn;function ue(t,e){if(e){for(var n=new b(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}if(Ot)return Ot.encode(t);for(var i=t.length,a=new b(t.length+(t.length>>1)),s=0,l=o(function(h){a[s++]=h},"w"),r=0;r<i;++r){if(s+5>a.length){var c=new b(s+8+(i-r<<1));c.set(a),a=c}var f=t.charCodeAt(r);f<128||e?l(f):f<2048?(l(192|f>>6),l(128|f&63)):f>55295&&f<57344?(f=65536+(f&1047552)|t.charCodeAt(++r)&1023,l(240|f>>18),l(128|f>>12&63),l(128|f>>6&63),l(128|f&63)):(l(224|f>>12),l(128|f>>6&63),l(128|f&63))}return ee(a,0,s)}o(ue,"strToU8");m.strToU8=ue;function Lt(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(gt)return gt.decode(t);var i=cn(t),a=i.s,n=i.r;return n.length&&p(8),a}}o(Lt,"strFromU8");m.strFromU8=Lt;var vn=o(function(t){return t==1?3:t<6?2:t==9?1:0},"dbf"),pn=o(function(t,e){return e+30+j(t,e+26)+j(t,e+28)},"slzh"),gn=o(function(t,e,n){var r=j(t,e+28),i=Lt(t.subarray(e+46,e+46+r),!(j(t,e+8)&2048)),a=e+46+r,s=G(t,e+20),l=n&&s==4294967295?yn(t,a):[s,G(t,e+24),G(t,e+42)],c=l[0],f=l[1],h=l[2];return[j(t,e+10),c,f,i,a+j(t,e+30)+j(t,e+32),h]},"zh"),yn=o(function(t,e){for(;j(t,e)!=1;e+=4+j(t,e+2));return[lt(t,e+12),lt(t,e+4),lt(t,e+20)]},"z64e"),he=o(function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&p(9),e+=r+4}return e},"exfl"),Ee=o(function(t,e,n,r,i,a,s,l){var c=r.length,f=n.extra,h=l&&l.length,u=he(f);S(t,e,s!=null?33639248:67324752),e+=4,s!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(a<0&&8),t[e++]=i&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var v=new Date(n.mtime==null?Date.now():n.mtime),E=v.getFullYear()-1980;if((E<0||E>119)&&p(10),S(t,e,E<<25|v.getMonth()+1<<21|v.getDate()<<16|v.getHours()<<11|v.getMinutes()<<5|v.getSeconds()>>1),e+=4,a!=-1&&(S(t,e,n.crc),S(t,e+4,a<0?-a-2:a),S(t,e+8,n.size)),S(t,e+12,c),S(t,e+14,u),e+=16,s!=null&&(S(t,e,h),S(t,e+6,n.attrs),S(t,e+10,s),e+=14),t.set(r,e),e+=c,u)for(var w in f){var Z=f[w],g=Z.length;S(t,e,+w),S(t,e+2,g),t.set(Z,e+4),e+=4+g}return h&&(t.set(l,e),e+=h),e},"wzh"),It=o(function(t,e,n,r,i){S(t,e,101010256),S(t,e+8,n),S(t,e+10,n),S(t,e+12,r),S(t,e+16,i)},"wzf"),$e=(function(){function t(e){this.filename=e,this.c=Ae(),this.size=0,this.compression=0}return o(t,"ZipPassThrough"),t.prototype.process=function(e,n){this.ondata(null,e,n)},t.prototype.push=function(e,n){this.ondata||p(5),this.c.p(e),this.size+=e.length,n&&(this.crc=this.c.d()),this.process(e,n||!1)},t})();m.ZipPassThrough=$e;var Bn=(function(){function t(e,n){var r=this;n||(n={}),$e.call(this,e),this.d=new te(n,function(i,a){r.ondata(null,i,a)}),this.compression=8,this.flag=vn(n.level)}return o(t,"ZipDeflate"),t.prototype.process=function(e,n){try{this.d.push(e,n)}catch(r){this.ondata(r,null,n)}},t.prototype.push=function(e,n){$e.prototype.push.call(this,e,n)},t})();m.ZipDeflate=Bn;var Nn=(function(){function t(e,n){var r=this;n||(n={}),$e.call(this,e),this.d=new nn(n,function(i,a,s){r.ondata(i,a,s)}),this.compression=8,this.flag=vn(n.level),this.terminate=this.d.terminate}return o(t,"AsyncZipDeflate"),t.prototype.process=function(e,n){this.d.push(e,n)},t.prototype.push=function(e,n){$e.prototype.push.call(this,e,n)},t})();m.AsyncZipDeflate=Nn;var qn=(function(){function t(e){this.ondata=e,this.u=[],this.d=1}return o(t,"Zip"),t.prototype.add=function(e){var n=this;if(this.ondata||p(5),this.d&2)this.ondata(p(4+(this.d&1)*8,0,1),null,!1);else{var r=ue(e.filename),i=r.length,a=e.comment,s=a&&ue(a),l=i!=e.filename.length||s&&a.length!=s.length,c=i+he(e.extra)+30;i>65535&&this.ondata(p(11,0,1),null,!1);var f=new b(c);Ee(f,0,e,r,l,-1);var h=[f],u=o(function(){for(var g=0,U=h;g<U.length;g++){var A=U[g];n.ondata(null,A,!1)}h=[]},"pAll_1"),v=this.d;this.d=0;var E=this.u.length,w=Ge(e,{f:r,u:l,o:s,t:o(function(){e.terminate&&e.terminate()},"t"),r:o(function(){if(u(),v){var g=n.u[E+1];g?g.r():n.d=1}v=1},"r")}),Z=0;e.ondata=function(g,U,A){if(g)n.ondata(g,U,A),n.terminate();else if(Z+=U.length,h.push(U),A){var C=new b(16);S(C,0,134695760),S(C,4,e.crc),S(C,8,Z),S(C,12,e.size),h.push(C),w.c=Z,w.b=c+Z+16,w.crc=e.crc,w.size=e.size,v&&w.r(),v=1}else v&&u()},this.u.push(w)}},t.prototype.end=function(){var e=this;if(this.d&2){this.ondata(p(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:o(function(){e.d&1&&(e.u.splice(-1,1),e.e())},"r"),t:o(function(){},"t")}),this.d=3},t.prototype.e=function(){for(var e=0,n=0,r=0,i=0,a=this.u;i<a.length;i++){var s=a[i];r+=46+s.f.length+he(s.extra)+(s.o?s.o.length:0)}for(var l=new b(r+22),c=0,f=this.u;c<f.length;c++){var s=f[c];Ee(l,e,s,s.f,s.u,-s.c-2,n,s.o),e+=46+s.f.length+he(s.extra)+(s.o?s.o.length:0),n+=s.b}It(l,e,this.u.length,r,n),this.ondata(null,l,!0),this.d=2},t.prototype.terminate=function(){for(var e=0,n=this.u;e<n.length;e++){var r=n[e];r.t()}this.d=2},t})();m.Zip=qn;function jn(t,e,n){n||(n=e,e={}),typeof n!="function"&&p(7);var r={};At(t,"",r,e);var i=Object.keys(r),a=i.length,s=0,l=0,c=a,f=new Array(a),h=[],u=o(function(){for(var g=0;g<h.length;++g)h[g]()},"tAll"),v=o(function(g,U){rt(function(){n(g,U)})},"cbd");rt(function(){v=n});var E=o(function(){var g=new b(l+22),U=s,A=l-s;l=0;for(var C=0;C<c;++C){var d=f[C];try{var F=d.c.length;Ee(g,l,d,d.f,d.u,F);var D=30+d.f.length+he(d.extra),I=l+D;g.set(d.c,I),Ee(g,s,d,d.f,d.u,F,l,d.m),s+=16+D+(d.m?d.m.length:0),l=I+F}catch(z){return v(z,null)}}It(g,s,f.length,A,U),v(null,g)},"cbf");a||E();for(var w=o(function(g){var U=i[g],A=r[U],C=A[0],d=A[1],F=Ae(),D=C.length;F.p(C);var I=ue(U),z=I.length,y=d.comment,L=y&&ue(y),R=L&&L.length,O=he(d.extra),B=d.level==0?0:8,x=o(function(X,$){if(X)u(),v(X,null);else{var T=$.length;f[g]=Ge(d,{size:D,crc:F.d(),c:$,f:I,m:L,u:z!=U.length||L&&y.length!=R,compression:B}),s+=30+z+O+T,l+=76+2*(z+O)+(R||0)+T,--a||E()}},"cbl");if(z>65535&&x(p(11,0,1),null),!B)x(null,C);else if(D<16e4)try{x(null,Be(C,d))}catch(X){x(X,null)}else h.push(rn(C,d,x))},"_loop_1"),Z=0;Z<c;++Z)w(Z);return u}o(jn,"zip");m.zip=jn;function kn(t,e){e||(e={});var n={},r=[];At(t,"",n,e);var i=0,a=0;for(var s in n){var l=n[s],c=l[0],f=l[1],h=f.level==0?0:8,u=ue(s),v=u.length,E=f.comment,w=E&&ue(E),Z=w&&w.length,g=he(f.extra);v>65535&&p(11);var U=h?Be(c,f):c,A=U.length,C=Ae();C.p(c),r.push(Ge(f,{size:c.length,crc:C.d(),c:U,f:u,m:w,u:v!=s.length||w&&E.length!=Z,o:i,compression:h})),i+=30+v+g+A,a+=76+2*(v+g)+(Z||0)+A}for(var d=new b(a+22),F=i,D=a-i,I=0;I<r.length;++I){var u=r[I];Ee(d,u.o,u,u.f,u.u,u.c.length);var z=30+u.f.length+he(u.extra);d.set(u.c,u.o+z),Ee(d,i,u,u.f,u.u,u.c.length,u.o,u.m),i+=16+z+(u.m?u.m.length:0)}return It(d,i,r.length,D,F),d}o(kn,"zipSync");m.zipSync=kn;var dn=(function(){function t(){}return o(t,"UnzipPassThrough"),t.prototype.push=function(e,n){this.ondata(null,e,n)},t.compression=0,t})();m.UnzipPassThrough=dn;var Vn=(function(){function t(){var e=this;this.i=new _(function(n,r){e.ondata(null,n,r)})}return o(t,"UnzipInflate"),t.prototype.push=function(e,n){try{this.i.push(e,n)}catch(r){this.ondata(r,null,n)}},t.compression=8,t})();m.UnzipInflate=Vn;var _n=(function(){function t(e,n){var r=this;n<32e4?this.i=new _(function(i,a){r.ondata(null,i,a)}):(this.i=new Ct(function(i,a,s){r.ondata(i,a,s)}),this.terminate=this.i.terminate)}return o(t,"AsyncUnzipInflate"),t.prototype.push=function(e,n){this.i.terminate&&(e=ee(e,0)),this.i.push(e,n)},t.compression=8,t})();m.AsyncUnzipInflate=_n;var Jn=(function(){function t(e){this.onfile=e,this.k=[],this.o={0:dn},this.p=fe}return o(t,"Unzip"),t.prototype.push=function(e,n){var r=this;if(this.onfile||p(5),this.p||p(4),this.c>0){var i=Math.min(this.c,e.length),a=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(a,!this.c):this.k[0].push(a),e=e.subarray(i),e.length)return this.push(e,n)}else{var s=0,l=0,c=void 0,f=void 0;this.p.length?e.length?(f=new b(this.p.length+e.length),f.set(this.p),f.set(e,this.p.length)):f=this.p:f=e;for(var h=f.length,u=this.c,v=u&&this.d,E=o(function(){var U,A=G(f,l);if(A==67324752){s=1,c=l,w.d=null,w.c=0;var C=j(f,l+6),d=j(f,l+8),F=C&2048,D=C&8,I=j(f,l+26),z=j(f,l+28);if(h>l+30+I+z){var y=[];w.k.unshift(y),s=2;var L=G(f,l+18),R=G(f,l+22),O=Lt(f.subarray(l+30,l+=30+I),!F);L==4294967295?(U=D?[-2]:yn(f,l),L=U[0],R=U[1]):D&&(L=-1),l+=z,w.c=L;var B,x={name:O,compression:d,start:o(function(){if(x.ondata||p(5),!L)x.ondata(null,fe,!0);else{var X=r.o[d];X||x.ondata(p(14,"unknown compression type "+d,1),null,!1),B=L<0?new X(O):new X(O,L,R),B.ondata=function(N,ve,V){x.ondata(N,ve,V)};for(var $=0,T=y;$<T.length;$++){var q=T[$];B.push(q,!1)}r.k[0]==y&&r.c?r.d=B:B.push(fe,!0)}},"start"),terminate:o(function(){B&&B.terminate&&B.terminate()},"terminate")};L>=0&&(x.size=L,x.originalSize=R),w.onfile(x)}return"break"}else if(u){if(A==134695760)return c=l+=12+(u==-2&&8),s=3,w.c=0,"break";if(A==33639248)return c=l-=4,s=3,w.c=0,"break"}},"_loop_2"),w=this;l<h-4;++l){var Z=E();if(Z==="break")break}if(this.p=fe,u<0){var g=s?f.subarray(0,c-12-(u==-2&&8)-(G(f,c-16)==134695760&&4)):f.subarray(0,l);v?v.push(g,!!s):this.k[+(s==2)].push(g)}if(s&2)return this.push(f.subarray(l),n);this.p=f.subarray(l)}n&&(this.c&&p(13),this.p=null)},t.prototype.register=function(e){this.o[e.compression]=e},t})();m.Unzip=Jn;var rt=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(t){t()};function Yn(t,e,n){n||(n=e,e={}),typeof n!="function"&&p(7);var r=[],i=o(function(){for(var g=0;g<r.length;++g)r[g]()},"tAll"),a={},s=o(function(g,U){rt(function(){n(g,U)})},"cbd");rt(function(){s=n});for(var l=t.length-22;G(t,l)!=101010256;--l)if(!l||t.length-l>65558)return s(p(13,0,1),null),i;var c=j(t,l+8);if(c){var f=c,h=G(t,l+16),u=h==4294967295||f==65535;if(u){var v=G(t,l-12);u=G(t,v)==101075792,u&&(f=c=G(t,v+32),h=G(t,v+48))}for(var E=e&&e.filter,w=o(function(g){var U=gn(t,h,u),A=U[0],C=U[1],d=U[2],F=U[3],D=U[4],I=U[5],z=pn(t,I);h=D;var y=o(function(R,O){R?(i(),s(R,null)):(O&&(a[F]=O),--c||s(null,a))},"cbl");if(!E||E({name:F,size:C,originalSize:d,compression:A}))if(!A)y(null,ee(t,z,z+C));else if(A==8){var L=t.subarray(z,z+C);if(d<524288||C>.8*d)try{y(null,Me(L,{out:new b(d)}))}catch(R){y(R,null)}else r.push(bt(L,{size:d},y))}else y(p(14,"unknown compression type "+A,1),null);else y(null,null)},"_loop_3"),Z=0;Z<f;++Z)w(Z)}else s(null,{});return i}o(Yn,"unzip");m.unzip=Yn;function Kn(t,e){for(var n={},r=t.length-22;G(t,r)!=101010256;--r)(!r||t.length-r>65558)&&p(13);var i=j(t,r+8);if(!i)return{};var a=G(t,r+16),s=a==4294967295||i==65535;if(s){var l=G(t,r-12);s=G(t,l)==101075792,s&&(i=G(t,l+32),a=G(t,l+48))}for(var c=e&&e.filter,f=0;f<i;++f){var h=gn(t,a,s),u=h[0],v=h[1],E=h[2],w=h[3],Z=h[4],g=h[5],U=pn(t,g);a=Z,(!c||c({name:w,size:v,originalSize:E,compression:u}))&&(u?u==8?n[w]=Me(t.subarray(U,U+v),{out:new b(E)}):p(14,"unknown compression type "+u):n[w]=ee(t,U,U+v))}return n}o(Kn,"unzipSync");m.unzipSync=Kn});var dr={};Mn(dr,{ZipLoader:()=>Mt,isGlobalLogEnabled:()=>Cn,setGlobalLogEnabled:()=>Zn});module.exports=Dn(dr);var Un=Fn(mn());var Wn=67324752,Qn=33639248,er=101010256,tr=8,nr=0,rr=2*1024*1024,En=[".astc",".pvr",".ktx",".dds"],ir=[".png",".jpg",".jpeg",".webp",".bmp",...En],wn={MAX_RES_CACHE_SIZE:100,MAX_RES_CACHE_MEMORY:50*1024*1024,ENABLE_CACHE_LOGGING:!0},J=new Map,re=new Map,at=new Map,Ft=!0;function Zn(t){Ft=t}o(Zn,"setGlobalLogEnabled");function Cn(){return Ft}o(Cn,"isGlobalLogEnabled");function H(t,e,...n){Ft&&console[t](e,...n)}o(H,"logIfEnabled");var ar=o((t,e)=>{if(!e)return t;let n=new TextEncoder().encode(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++){let a=n[i%n.length];r[i]=t[i]^a}return r},"decryptData"),zn=o(t=>{let e=t.match(/(?:remote|assets)\/(.+)$/);return e?e[1]:t},"extractFilePath"),ot=o(t=>{at.set(t,Date.now())},"updateResCacheAccessTime"),Fe=o((t,e)=>{J.set(t,e),ot(t)},"cacheResource"),Rt=o((t,e)=>new Error(e instanceof Event?e.type:String(e||t)),"createLoadError"),St=o(t=>(t/(1024*1024)).toFixed(2)+"M","formatSizeToMB"),or=o((t,e="")=>{let n=new Map,r=new DataView(t),i=sr(r,t.byteLength);if(i===-1)throw new Error("Invalid ZIP file: End record not found");let a=r.getUint16(i+10,!0),l=r.getUint32(i+16,!0);for(let c=0;c<a;c++){let f=lr(t,r,l,e);n.set(f.fileName,f),l=f.localHeaderOffset+46+r.getUint16(f.localHeaderOffset+28,!0)+r.getUint16(f.localHeaderOffset+30,!0)+r.getUint16(f.localHeaderOffset+32,!0)}return n},"parseZipFile"),sr=o((t,e)=>{for(let n=e-22;n>=0;n--)if(t.getUint32(n,!0)===er)return n;return-1},"findEndRecord"),lr=o((t,e,n,r)=>{if(e.getUint32(n,!0)!==Qn)throw new Error("Invalid ZIP file: Central directory signature not found");let i=e.getUint16(n+10,!0),a=e.getUint32(n+20,!0),s=e.getUint32(n+24,!0),l=e.getUint16(n+28,!0),c=e.getUint16(n+30,!0),f=e.getUint16(n+32,!0),h=e.getUint32(n+42,!0),u=e.getUint32(n+16,!0),v=new TextDecoder().decode(new Uint8Array(t,n+46,l)),E=fr(t,e,h,a,r),w=hr(E,i,s);return{fileName:v,compressedSize:a,uncompressedSize:s,compressionMethod:i,crc32:u,localHeaderOffset:n,data:w}},"parseZipEntry"),fr=o((t,e,n,r,i)=>{if(e.getUint32(n,!0)!==Wn)throw new Error("Invalid ZIP file: Local header signature not found");let a=e.getUint16(n+26,!0),s=e.getUint16(n+28,!0),l=n+30+a+s,c=new Uint8Array(t,l,r);return(e.getUint16(n+6,!0)&1)!==0&&i&&(c=ar(c,i)),c},"readZipFileData"),hr=o((t,e,n)=>{if(e===tr)return Un.default.inflateSync(t,{out:new Uint8Array(n)});if(e===nr)return t;throw new Error(`Unsupported compression method: ${e}`)},"decompressData"),ur=o((t,e)=>({name:t,dir:!1,async:o(n=>new Promise((r,i)=>{try{switch(n){case"uint8array":r(e.data);break;case"text":r(new TextDecoder().decode(e.data));break;case"base64":r(btoa(String.fromCharCode(...e.data)));break;case"blob":r(new Blob([e.data]));break;default:r(e.data)}}catch(a){i(a)}}),"async")}),"createZipFileObject"),Mt=class t{constructor(){this._isInit=!1;this._remoteUrl="";this._password=""}static{o(this,"ZipLoader")}static{this._instance=null}static get instance(){return this._instance||(this._instance=new t),this._instance}static setLogEnabled(e){Zn(e)}static isLogEnabled(){return Cn()}set remoteUrl(e){this._remoteUrl=e}get remoteUrl(){return this._remoteUrl}set password(e){this._password=e}get password(){return this._password}getZipCache(){return re}getResCache(){return J}clearResCache(e=!1){if(e){let n=J.size;J.clear(),at.clear(),H("log",`[ZipLoader] ResCache \u5DF2\u5168\u90E8\u6E05\u7406\uFF0C\u5171 ${n} \u9879`);return}if(J.size>wn.MAX_RES_CACHE_SIZE){let n=Array.from(at.entries()).sort((i,a)=>i[1]-a[1]),r=Math.floor(J.size*.3);for(let i=0;i<r;i++){let[a]=n[i];J.delete(a),at.delete(a)}H("log",`[ZipLoader] ResCache \u5DF2\u6E05\u7406 ${r} \u9879\uFF0C\u5269\u4F59 ${J.size} \u9879`)}}clearZipCache(){let e=re.size;re.clear(),H("log",`[ZipLoader] ZipCache \u5DF2\u6E05\u7406\uFF0C\u5171 ${e} \u9879`)}downloadZip(e,n=!1){return new Promise((r,i)=>{let a=new XMLHttpRequest;a.responseType="arraybuffer",a.onload=()=>{a.status===200?r(a.response):i(new Error(`Download failed: ${a.status}`))},a.onerror=()=>i(new Error("Download failed")),a.open("GET",`${e}.zip${n?"?t="+Date.now():""}`,!0),a.send()})}async loadZip(e,n=!1){return new Promise(async(r,i)=>{try{this._isInit||(this._initImageLoaders(),this._hookXMLHttpRequest(),this._isInit=!0,H("log","[ZipLoader] \u521D\u59CB\u5316\u5B8C\u6210"));let a=await this.downloadZip(`${this._remoteUrl}/${e}`,n);this._parseZip(a),this.clearResCache(!1),r()}catch(a){H("error","[ZipLoader] Load zip failed:",a),i(a)}})}_parseZip(e){try{let n=or(e,this._password);for(let[r,i]of n){let a=ur(r,i);re.set(r,a)}H("log",`[ZipLoader] ZIP \u89E3\u6790\u5B8C\u6210\uFF0C\u7F13\u5B58\u4E86 ${n.size} \u4E2A\u6587\u4EF6`)}catch(n){throw H("error","[ZipLoader] Parse zip failed:",n),n}}_initImageLoaders(){ir.forEach(e=>{this._registerImageLoader(e)})}_registerImageLoader(e){let n=En.indexOf(e)!==-1,r=o((i,a,s)=>{this._handleImageDownload(i,e,n,s)},"downloadHandler");cc.assetManager?.downloader&&cc.assetManager.downloader.register(e,r)}_handleImageDownload(e,n,r,i){if(J.has(e)){ot(e),wn.ENABLE_CACHE_LOGGING&&H("log",`[ZipLoader] \u547D\u4E2D ResCache: ${e}`),i(null,J.get(e));return}let a=zn(e);if(re.has(a)){this._loadFromZipCache(e,a,n,r,i);return}this._downloadFromNetwork(e,r,i)}_loadFromZipCache(e,n,r,i,a){H("log",`[ZipLoader] \u4F7F\u7528 ZipCache: ${n}`);let s=re.get(n);s&&s.async("uint8array").then(l=>{i?this._handleTextureData(e,n,l,a):l.length>rr?this._handleLargeImage(e,n,s,l,a):this._handleSmallImage(e,n,r,s,l,a)}).catch(l=>{H("error","[ZipLoader] Load from ZipCache failed:",l),a(l,null)})}_handleTextureData(e,n,r,i){H("log",`[ZipLoader] \u52A0\u8F7D\u7EB9\u7406: ${n}, \u5927\u5C0F: ${St(r.length)}`),Fe(e,r),re.delete(n),i(null,r)}_handleLargeImage(e,n,r,i,a){H("log",`[ZipLoader] \u52A0\u8F7D\u5927\u56FE\u7247(Blob): ${n}, \u5927\u5C0F: ${St(i.length)}`),r.async("blob").then(s=>{let l=URL.createObjectURL(s);this._loadImageFromUrl(l,c=>{URL.revokeObjectURL(l),Fe(e,c),re.delete(n),H("log",`[ZipLoader] \u56FE\u7247\u52A0\u8F7D\u6210\u529F: ${n}`),a(null,c)},c=>{URL.revokeObjectURL(l),H("error",`[ZipLoader] \u56FE\u7247\u52A0\u8F7D\u5931\u8D25: ${n}`,c),a(Rt("Image load failed",c),null)})})}_handleSmallImage(e,n,r,i,a,s){H("log",`[ZipLoader] \u52A0\u8F7D\u5C0F\u56FE\u7247(Base64): ${n}, \u5927\u5C0F: ${St(a.length)}`),i.async("base64").then(l=>{let c=`data:image/${r.slice(1)};base64,${l}`;this._loadImageFromUrl(c,f=>{Fe(e,f),re.delete(n),H("log",`[ZipLoader] \u56FE\u7247\u52A0\u8F7D\u6210\u529F: ${n}`),s(null,f)},f=>{H("error",`[ZipLoader] \u56FE\u7247\u52A0\u8F7D\u5931\u8D25: ${n}`,f),s(Rt("Image load failed",f),null)})})}_loadImageFromUrl(e,n,r){let i=new Image;i.crossOrigin="anonymous",i.onload=()=>n(i),i.onerror=a=>r(a),i.src=e}_downloadFromNetwork(e,n,r){if(n){let i=new XMLHttpRequest;i.responseType="arraybuffer",i.onload=()=>{i.status===200?(Fe(e,i.response),r(null,i.response)):r(new Error(`Download failed: ${i.status}`),null)},i.onerror=()=>r(new Error("Download failed"),null),i.open("GET",e,!0),i.send()}else this._loadImageFromUrl(e,i=>r(null,i),i=>r(Rt("Image download failed",i),null))}_hookXMLHttpRequest(){let e=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"response");e&&(this._hookXHROpen(),this._hookXHRSend(),this._hookXHRResponse(e))}_hookXHROpen(){let e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,r,i,a,s){let l=zn(r);return J.has(r)?(H("log",`[ZipLoader] XHR\u62E6\u622A - \u68C0\u6D4B\u5230 ResCache: ${r}`),this.zipCacheUrl=r,this.zipCachePath=l,this.isFromCache=!0):re.has(l)?(H("log",`[ZipLoader] XHR\u62E6\u622A - \u68C0\u6D4B\u5230 ZipCache: ${l}`),this.zipCacheUrl=r,this.zipCachePath=l,this.isFromCache=!1):(this.zipCacheUrl=void 0,this.zipCachePath=void 0,this.isFromCache=void 0),e.call(this,n,r,i??!0,a,s)}}_hookXHRSend(){let e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=async function(n){if(this.zipCacheUrl&&this.zipCachePath!==void 0){await cr(this);return}return e.call(this,n)}}_hookXHRResponse(e){Object.defineProperty(XMLHttpRequest.prototype,"response",{get:o(function(){if(this.zipCacheUrl&&J.has(this.zipCacheUrl)){let n=J.get(this.zipCacheUrl);return ot(this.zipCacheUrl),H("log",`[ZipLoader] \u8FD4\u56DE\u7F13\u5B58\u54CD\u5E94: ${this.zipCachePath}, \u7C7B\u578B: ${this.responseType||"default"}`),this.responseType==="json"?JSON.parse(n):n}return e.get?e.get.call(this):void 0},"get"),set:o(function(){},"set"),configurable:!0})}};async function cr(t){try{t.isFromCache?(H("log",`[ZipLoader] XHR \u76F4\u63A5\u4F7F\u7528 ResCache: ${t.zipCacheUrl}`),ot(t.zipCacheUrl)):J.has(t.zipCacheUrl)||await vr(t),pr(t,200,"OK",4),gr(t)}catch(e){H("error",`[ZipLoader] \u7F13\u5B58\u8D44\u6E90\u52A0\u8F7D\u5931\u8D25: ${t.zipCachePath}`,e),yr(t)}}o(cr,"handleCachedRequest");async function vr(t){let e=re.get(t.zipCachePath);if(!e)return;let n=t.responseType||"text";if(H("log",`[ZipLoader] XHR \u52A0\u8F7D ZipCache \u8D44\u6E90: ${t.zipCachePath}, \u7C7B\u578B: ${n}`),t.responseType==="json"){let r=await e.async("text");Fe(t.zipCacheUrl,r),H("log",`[ZipLoader] JSON \u8D44\u6E90\u52A0\u8F7D\u6210\u529F: ${t.zipCachePath}`)}else{let r=await e.async(n);Fe(t.zipCacheUrl,r),H("log",`[ZipLoader] \u8D44\u6E90\u52A0\u8F7D\u6210\u529F: ${t.zipCachePath}, \u7C7B\u578B: ${n}`)}re.delete(t.zipCachePath)}o(vr,"loadFromZipCacheToResCache");function pr(t,e,n,r){Object.defineProperty(t,"status",{get:o(()=>e,"get"),configurable:!0}),Object.defineProperty(t,"statusText",{get:o(()=>n,"get"),configurable:!0}),Object.defineProperty(t,"readyState",{get:o(()=>r,"get"),configurable:!0})}o(pr,"setXHRStatus");function gr(t){if(typeof t.onload=="function"){let e=new ProgressEvent("load",{lengthComputable:!0,loaded:1,total:1});t.onload(e)}}o(gr,"triggerXHRLoad");function yr(t){if(t.onerror){let e=new ProgressEvent("error",{lengthComputable:!1,loaded:0,total:0});t.onerror(e)}}o(yr,"triggerXHRError");0&&(module.exports={ZipLoader,isGlobalLogEnabled,setGlobalLogEnabled});
